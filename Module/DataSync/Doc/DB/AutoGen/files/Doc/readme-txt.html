<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">

<html><head><title>Описание - DataSync</title><link rel="stylesheet" type="text/css" href="../../styles/main.css"><script language=JavaScript src="../../javascript/main.js"></script><script language=JavaScript src="../../javascript/searchdata.js"></script></head><body class="ContentPage" onLoad="NDOnLoad();"><script language=JavaScript><!--
if (browserType) {document.write("<div class=" + browserType + ">");if (browserVer) {document.write("<div class=" + browserVer + ">"); }}// --></script>

<!--  Generated by Natural Docs, version 1.5 -->
<!--  http://www.naturaldocs.org  -->

<!-- saved from url=(0026)http://www.naturaldocs.org -->




<div id=Content><div class="CSection"><div class=CTopic id=MainTopic><h1 class=CTitle><a name="Описание"></a>Описание</h1><div class=CBody><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SMain"><td class=SEntry><a href="#Описание" >Описание</a></td><td class=SDescription></td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Описание.Общееописание" >Общее описание</a></td><td class=SDescription>Модуль содержит функции для репликации данных, предназначенные для использования в прикладных модулях.</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Описание.Обновлениеспомощьюсравненияданных" >Обновление с помощью сравнения данных</a></td><td class=SDescription>Обновляет данные таблицы с помощью сравнения содержащихся в ней и актуальных данных и внесения необходимых изменений командами merge и delete ( см. </td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Описание.Обновлениеспомощьюсравненияданныхсиспользованиемвременнойтаблицы" >Обновление с помощью сравнения данных с использованием временной таблицы</a></td><td class=SDescription>Является оптимизированным вариантом метода <a href="#Описание.Обновлениеспомощьюсравненияданных" class=LGroup id=link1 onMouseOver="ShowTip(event, 'tt1', 'link1')" onMouseOut="HideTip('tt1')">Обновление с помощью сравнения данных</a>: актуальные данные предварительно загружаются во временную таблицу, которая затем используется в командах merge и delete. </td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Описание.Обновлениеспомощьюfast-обновляемогоматериализованногопредставления" >Обновление с помощью fast-обновляемого материализованного представления</a></td><td class=SDescription>Для регулярного обновления таблицы используется fast-обновляемое материализованное представление с опцией &ldquo;on prebuilt table&rdquo; на основе таблицы, которую требуется обновлять. </td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Описание.Интерфейсныетаблицы" >Интерфейсные таблицы</a></td><td class=SDescription>Интерфейсные таблицы содержат основные данные по какой-то прикладной системе и используются для предоставления данных по этой системе внешним системам ( обычно создаются для последующей загрузки данных в хранилище). </td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Описание.Реализациямодуляинтерфейсныхтаблиц" >Реализация модуля интерфейсных таблиц</a></td><td class=SDescription></td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Описание.Общееописание"></a>Общее описание</h3><div class=CBody><p>Модуль содержит функции для репликации данных, предназначенные для использования в прикладных модулях.</p><p>Функции модуля работают с правами вызывающего ( authid current_user).</p><h4 class=CHeading>Поддерживаемые методы обновления данных</h4><p>1.&nbsp; <a href="#Описание.Обновлениеспомощьюсравненияданных" class=LGroup id=link2 onMouseOver="ShowTip(event, 'tt1', 'link2')" onMouseOut="HideTip('tt1')">Обновление с помощью сравнения данных</a></p><p>2.&nbsp; <a href="#Описание.Обновлениеспомощьюсравненияданныхсиспользованиемвременнойтаблицы" class=LGroup id=link3 onMouseOver="ShowTip(event, 'tt2', 'link3')" onMouseOut="HideTip('tt2')">Обновление с помощью сравнения данных с использованием временной таблицы</a></p><p>3.&nbsp; <a href="#Описание.Обновлениеспомощьюfast-обновляемогоматериализованногопредставления" class=LGroup id=link4 onMouseOver="ShowTip(event, 'tt3', 'link4')" onMouseOut="HideTip('tt3')">Обновление с помощью fast-обновляемого материализованного представления</a></p><p>Методы перечислены в порядке убывания приоритета ( т.е.&nbsp; если не подходит 1-й метод, рассматриваем 2-й).</p><p>Для упрощения создания прикладных модулей, реализующих интерфейсные таблицы для хранилища, реализован специальный объектный интерфейс ( см.&nbsp; <a href="#Описание.Интерфейсныетаблицы" class=LGroup id=link5 onMouseOver="ShowTip(event, 'tt4', 'link5')" onMouseOut="HideTip('tt4')">Интерфейсные таблицы</a>, <a href="#Описание.Реализациямодуляинтерфейсныхтаблиц" class=LGroup >Реализация модуля интерфейсных таблиц</a>).</p></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Описание.Обновлениеспомощьюсравненияданных"></a>Обновление с помощью сравнения данных</h3><div class=CBody><p>Обновляет данные таблицы с помощью сравнения содержащихся в ней и актуальных данных и внесения необходимых изменений командами merge и delete ( см.&nbsp; <a href="../pkg_DataSync-pks.html#pkg_DataSync.refreshByCompare" class=LFunctionpublic id=link6 onMouseOver="ShowTip(event, 'tt5', 'link6')" onMouseOut="HideTip('tt5')">pkg_DataSync.refreshByCompare</a>).</p><h4 class=CHeading>Ограничения по применению</h4><ul><li>нежелательно применять для больших выборок данных по соображениям производительности и нагрузки на БД ( примерная граница: обновление таблицы должно занимать не более 1 минуты);</li></ul></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Описание.Обновлениеспомощьюсравненияданныхсиспользованиемвременнойтаблицы"></a>Обновление с помощью сравнения данных с использованием временной таблицы</h3><div class=CBody><p>Является оптимизированным вариантом метода <a href="#Описание.Обновлениеспомощьюсравненияданных" class=LGroup id=link7 onMouseOver="ShowTip(event, 'tt1', 'link7')" onMouseOut="HideTip('tt1')">Обновление с помощью сравнения данных</a>: актуальные данные предварительно загружаются во временную таблицу, которая затем используется в командах merge и delete.&nbsp; В результате выборка актуальных данных выполняется один раз ( при заполнении временной таблицы) вместо двух ( отдельно при выполнении команд merge и delete).&nbsp; Данный метод целесообразно использовать в случае трудоемкой выборки актуальных данных.</p><h4 class=CHeading>Ограничения по применению</h4><ul><li>нежелательно применять для больших выборок данных по соображениям производительности и нагрузки на БД ( примерная граница: обновление таблицы должно занимать не более 1 минуты);</li></ul></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Описание.Обновлениеспомощьюfast-обновляемогоматериализованногопредставления"></a>Обновление с помощью fast-обновляемого материализованного представления</h3><div class=CBody><p>Для регулярного обновления таблицы используется fast-обновляемое материализованное представление с опцией &ldquo;on prebuilt table&rdquo; на основе таблицы, которую требуется обновлять.&nbsp;  Материализованное представление может быть создано ( пересоздано) автоматически при обновлении таблицы с использованием выборки, зафиксированной в предварительно созданном представлении с исходными данными ( см.&nbsp; <a href="../pkg_DataSync-pks.html#pkg_DataSync.refreshByMView" class=LFunctionpublic id=link8 onMouseOver="ShowTip(event, 'tt6', 'link8')" onMouseOut="HideTip('tt6')">pkg_DataSync.refreshByMView</a>).</p><h4 class=CHeading>Ограничения по применению</h4><ul><li>в случае сложных выборок над исходными таблицами может быть трудно ( или невозможно) обеспечить fast-обновление материализованного представления;</li><li>для fast-обновления материализованного представления должны быть созданы логи на исходных таблицах, что может быть нежелательно из-за замедления скорости изменения исходных таблиц;</li></ul><h4 class=CHeading>Замечания</h4><ul><li>в случае различий между типами колонок в таблице и типам колонок в исходном представлении при создании материализованного представления может возникать ошибка &ldquo;ORA-12060: shape of prebuilt table does not match definition query&rdquo;.</li></ul><p>Для исключения различий в типах колонок, не входящих в первичный ключ, в исходном представлении можно использовать оператор приведения типа cast.&nbsp; Для трансляции текстовых полей из мультибайтовой кодировки в однобайтовую можно использовать SQL-функцию to_single_byte.&nbsp; Попытка приведения типа колонки первичного ключа вызывает ошибку &ldquo;ORA-12016: materialized view does not include all primary key columns&rdquo; при создании м-представления.&nbsp; Т.о.&nbsp; типы колонок первичного ключа в обновляемой таблице должны соответствовать фактическим типам колонок из исходного представления либо можно добавлять в таблицу и представление дополнительные колонки для колонок первичного ключа с другими названиями и с типом, соответствующим фактическому, а для колонок с именами колонок первичного ключа использовать приведение типа с помощью cast.</p></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Описание.Интерфейсныетаблицы"></a>Интерфейсные таблицы</h3><div class=CBody><p>Интерфейсные таблицы содержат основные данные по какой-то прикладной системе и используются для предоставления данных по этой системе внешним системам ( обычно создаются для последующей загрузки данных в хранилище).&nbsp; Внешняя система располагается в другой БД и получает данные из интерфейсных таблиц с помощью материализованных представлений, работающих по линку.</p><h4 class=CHeading>Требования к интерфейсным таблицам</h4><ul><li>обеспечение неизменности структуры данных в случае доработки прикладной системы ( неизменность интерфейса для внешней системы);</li><li>исключение необоснованных ( без фактического изменения данных) массовых обновлений записей в интерфейсных таблицах;</li></ul><p>Для обеспечения обновления данных в интерфейсные таблицы могут добавляться служебные поля с префиксом &ldquo;int_&rdquo;, которые не должны использоваться внешней системой.</p><p>При создании интерфейсных справочников ( или использовании полей, содержащих кодовые значения) желательно добавлять типовую запись &ldquo;Остальные&rdquo;, к которой должны относиться данные, не относящиеся к другим записям справочника.&nbsp; Это позволит исключить необходимость изменения интерфейса в случае изменения исходного справочника ( например, добавления в него новой записи).</p><p>В большинстве случаев для интерфейсных таблиц создается отдельный модуль, название которого в случае интерфейсных таблиц для хранилища имеет вид &ldquo;&lt;Имя системы&gt;2Dwh&rdquo;.</p><h4 class=CHeading>Схема реализации</h4><ul><li>создаются интерфейсные таблицы, а также, обычно, материализованные логи на эти таблицы, что позволяет создавать материализованные представления на базе этих таблиц во врешней БД ( хранилище);</li><li>для обновления данных в интерфейсных таблицах создаются представления идентичной структуры на базе исходных таблиц прикладной системы ( исходные представления);</li><li>создается пакетное задание для регулярного обновления данных интерфейсных таблиц по данным исходных представлений ( обновление выполняется с помощью сравнения данных либо с помощью материализованного представления, в зависимости от конкретной таблицы);</li></ul><p>В дальнейшем в случае изменений в структуре или наборе исходных таблиц достаточно внести соответствующие изменения в исходные представления.</p><p>В случае, если одновременно выполняются условия:</p><ul><li>интерфейсная таблица обновляется с помощью fast-обновляемого материализованного представления,</li><li>выполняется массовое изменение записей исходной таблицы, используемой в этом материализованном представлении, не влияющее на данные материализованного представления,</li></ul><p>то перед выполнением изменения данных исходной таблицы нужно удалить созданный на ней лог, а после завершения изменений заново его создать.&nbsp; Это приведет к пересозданию материализованного представления при обновлении интерфейсной таблицы с предварительным обновлением данных в ней с помощью сравнения ( в случае использования параметра createMViewFlag или forceCreateMViewFlag, см.&nbsp; <a href="../pkg_DataSync-pks.html#pkg_DataSync.refreshByMView" class=LFunctionpublic id=link9 onMouseOver="ShowTip(event, 'tt6', 'link9')" onMouseOut="HideTip('tt6')">pkg_DataSync.refreshByMView</a>).&nbsp; Т.о.&nbsp; будет исключено необоснованное массовое изменение записей в интерфейсной таблице.</p><p>Например, нужно добавить новую колонку со значением по умолчанию в таблицу mpr_data модуля ModName.&nbsp; Порядок действий:</p><ul><li>удаляем лог на таблице mpr_data;</li></ul><blockquote><pre>drop materialized view log on mpr_data
/</pre></blockquote><ul><li>добавляем колонку в таблицу и заполняем ее;</li><li>восстанавливаем лог на таблице mpr_data;</li></ul><blockquote><pre>exec mpr_ModName_source_t().createMLog( forTableName =&gt; 'mpr_data');</pre></blockquote><h4 class=CHeading>Замечания</h4><ul><li>если интерфейсная таблица обновляется с помощью fast-обновляемого материализованного представления, то первичный ключ и уникальные ключи ( если они есть) должны быть созданы с опцией валидации при выполнении commit ( &ldquo;deferred&rdquo;) для исключения ошибки &ldquo;ORA-00001: unique constraint (...) violated&rdquo; ( см.&nbsp; <a href="https://support.oracle.com/CSP/main/article?cmd=show&amp;type=NOT&amp;id=67424.1" class=LURL target=_top>Note.67424.1</a> Materialized View Triggers, Constraints and Longs)</li></ul></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Описание.Реализациямодуляинтерфейсныхтаблиц"></a>Реализация модуля интерфейсных таблиц</h3><div class=CBody><h4 class=CHeading>Последовательность реализации модуля</h4><ul><li><b>создать скрипты для исходных представлений</b>;</li></ul><p>Создаются скрипты для исходных представлений ( DB/Install/Schema/Last/SourceSchema/v_*.vw), соответствующие интерфейсным таблицам.&nbsp; Набор и тип полей должен точно соответствовать полям в интерфесной таблице.&nbsp; В некоторых случаях для возможности обновления данных требуется добавить дополнительные служебные поля.&nbsp; Например, для fast-обновления материализованного представления, содержащего соединения таблиц, нужно ( см.&nbsp; &ldquo;Oracle Database Data Warehousing Guide&rdquo;):</p><ul><li>добавить поля с rowid таблиц, участвующих в выборке ( поля &ldquo;int_%_rid&rdquo;);</li><li>условия соединения указывать во фразе where ( в случае внешнего соединения использовать Oracle-синтаксис с &ldquo;(+)&rdquo;);</li><li>на исходных таблицах создать логи с опцией &ldquo;with rowid&rdquo;;</li></ul><p>Для эффективности обновления интерфейсной таблицы поля с rowid нужно проиндексировать.</p><p>Для обеспечения заданного для интерфейсной таблицы типа поля может потребоваться явное приведение типа в интерфейсном представлении.</p><ul><li><b>сгенерить скрипты создания интерфейсных таблиц по исходным представлениям</b></li></ul><p>Для этого исходные представления создаются в БД, после чего процедурой pkg_ScriptUtility.generateInterfaceTable ( модуль ScriptUtility ( Oracle/Module/ScriptUtility)) выполняется генерация скриптов создания интерфейсных таблиц.</p><p>После генерации в скрипты проверяются и, в случае необходимости, уточняются ( обычно уточняется размерность типов, обязательность заполнения, первичный ключ ( если это не первое поле таблицы), добавляется опция &ldquo;initially deferred deferrable&rdquo; для первичного/уникальных ключей при обновлении с помощью материализованного представления).&nbsp; Возможно также потребуется внести уточнения в скрипты исходных представлений.</p><ul><li><b>сгенерить скрипты создания временных таблиц по исходным представлениям</b></li></ul><p>Временные таблицы нужно создать для интерфейсных таблиц, обновляемых методом <a href="#Описание.Обновлениеспомощьюсравненияданныхсиспользованиемвременнойтаблицы" class=LGroup id=link10 onMouseOver="ShowTip(event, 'tt2', 'link10')" onMouseOut="HideTip('tt2')">Обновление с помощью сравнения данных с использованием временной таблицы</a>.</p><p>Для этого после создания исходных представлений в БД процедурой pkg_ScriptUtility.generateInterfaceTempTable ( модуль ScriptUtility ( Oracle/Module/ScriptUtility)) выполняется генерация скриптов создания временных таблиц.</p><ul><li><b>добавить объектный тип для управления объектами в исходной схеме</b></li></ul><p>Создается тип-потомок типа <a href="../dsn_data_sync_source_t-typ.html#dsn_data_sync_source_t" class=LDatabaseObjectType id=link11 onMouseOver="ShowTip(event, 'tt7', 'link11')" onMouseOut="HideTip('tt7')">dsn_data_sync_source_t</a>, от которого наследуются методы для управления объектами, в конструкторе выполняется вызов процедуры инициализации <a href="../dsn_data_sync_source_t-typ.html#dsn_data_sync_source_t.initialize" class=LFunctionpublic id=link12 onMouseOver="ShowTip(event, 'tt8', 'link12')" onMouseOut="HideTip('tt8')">dsn_data_sync_source_t.initialize</a> с требуемыми значениями параметров.</p><ul><li><b>добавить скрипты установки/удаления модуля в исходную схему</b></li><li><b>добавить объектный тип для управления интерфейсными таблицами</b></li></ul><p>Создается тип-потомок типа <a href="../dsn_data_sync_t-typ.html#dsn_data_sync_t" class=LDatabaseObjectType id=link13 onMouseOver="ShowTip(event, 'tt9', 'link13')" onMouseOut="HideTip('tt9')">dsn_data_sync_t</a>, от которого наследуются методы для управления объектами, в конструкторе выполняется вызов процедуры инициализации <a href="../dsn_data_sync_t-typ.html#dsn_data_sync_t.initialize" class=LFunctionpublic id=link14 onMouseOver="ShowTip(event, 'tt10', 'link14')" onMouseOut="HideTip('tt10')">dsn_data_sync_t.initialize</a> с требуемыми значениями параметров.</p><ul><li><b>добавить скрипты установки/удаления модуля в основную схему</b></li><li><b>добавить пакетное задание для обновления интерфейсных таблиц</b></li></ul><p>Если интерфейсные таблицы не принадлежат пользователю, под которым выполняется пакетное задание, то нужно создать процедуру-обертку для процедуры обновления интерфейсных таблиц ( с правами создателя) и вызывать ее из пакетного задания.&nbsp; Также нужен скрипт для выдачи прав на процедуру.</p></div></div></div>

</div><!--Content-->


<div id=Footer><a href="http://www.naturaldocs.org">Generated by Natural Docs</a></div><!--Footer-->


<div id=Menu><div class=MTitle>DataSync<div class=MSubTitle>Версия 1.3.4</div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent1')">О модуле</a><div class=MGroupContent id=MGroupContent1><div class=MEntry><div class=MFile id=MSelected>Описание</div></div><div class=MEntry><div class=MFile><a href="install-txt.html">Установка</a></div></div><div class=MEntry><div class=MFile><a href="bugs-txt.html">Ошибки</a></div></div><div class=MEntry><div class=MFile><a href="todo-txt.html">Доработки</a></div></div><div class=MEntry><div class=MFile><a href="../Makefile-.html">Сборка</a></div></div><div class=MEntry><div class=MFile><a href="version-txt.html">Версии</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent7')">Объектные типы</a><div class=MGroupContent id=MGroupContent7><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent2')">dsn_data_sync_source_t</a><div class=MGroupContent id=MGroupContent2><div class=MEntry><div class=MFile><a href="../dsn_data_sync_source_t-typ.html">Спецификация</a></div></div><div class=MEntry><div class=MFile><a href="../dsn_data_sync_source_t-tyb.html">Реализация</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent3')">dsn_data_sync_t</a><div class=MGroupContent id=MGroupContent3><div class=MEntry><div class=MFile><a href="../dsn_data_sync_t-typ.html">Спецификация</a></div></div><div class=MEntry><div class=MFile><a href="../dsn_data_sync_t-tyb.html">Реализация</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent6')">Test</a><div class=MGroupContent id=MGroupContent6><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent4')">dsn_test_source_t</a><div class=MGroupContent id=MGroupContent4><div class=MEntry><div class=MFile><a href="../Test/dsn_test_source_t-typ.html">Спецификация</a></div></div><div class=MEntry><div class=MFile><a href="../Test/dsn_test_source_t-tyb.html">Реализация</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent5')">dsn_test_t</a><div class=MGroupContent id=MGroupContent5><div class=MEntry><div class=MFile><a href="../Test/dsn_test_t-typ.html">Спецификация</a></div></div><div class=MEntry><div class=MFile><a href="../Test/dsn_test_t-tyb.html">Реализация</a></div></div></div></div></div></div></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent11')">Пакеты</a><div class=MGroupContent id=MGroupContent11><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent8')">pkg_DataSync</a><div class=MGroupContent id=MGroupContent8><div class=MEntry><div class=MFile><a href="../pkg_DataSync-pks.html">Спецификация</a></div></div><div class=MEntry><div class=MFile><a href="../pkg_DataSync-pkb.html">Реализация</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent10')">Test</a><div class=MGroupContent id=MGroupContent10><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent9')">pkg_DataSyncTest</a><div class=MGroupContent id=MGroupContent9><div class=MEntry><div class=MFile><a href="../Test/pkg_DataSyncTest-pks.html">Спецификация</a></div></div><div class=MEntry><div class=MFile><a href="../Test/pkg_DataSyncTest-pkb.html">Реализация</a></div></div></div></div></div></div></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent19')">Скрипты</a><div class=MGroupContent id=MGroupContent19><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent16')">Install</a><div class=MGroupContent id=MGroupContent16><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent13')">Grant</a><div class=MGroupContent id=MGroupContent13><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent12')">Last</a><div class=MGroupContent id=MGroupContent12><div class=MEntry><div class=MFile><a href="../Install/Grant/Last/run-sql.html">run</a></div></div></div></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent15')">Schema</a><div class=MGroupContent id=MGroupContent15><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent14')">Last</a><div class=MGroupContent id=MGroupContent14><div class=MEntry><div class=MFile><a href="../Install/Schema/Last/revert-sql.html">revert</a></div></div></div></div></div></div></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent18')">Test</a><div class=MGroupContent id=MGroupContent18><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent17')">Schema</a><div class=MGroupContent id=MGroupContent17><div class=MEntry><div class=MFile><a href="../Test/Schema/run-sql.html">run</a></div></div><div class=MEntry><div class=MFile><a href="../Test/Schema/revert-sql.html">revert</a></div></div><div class=MEntry><div class=MFile><a href="../Test/Schema/dsn_test_app_dst-tab.html">dsn_test_app_dst</a></div></div><div class=MEntry><div class=MFile><a href="../Test/Schema/dsn_test_app_dst_a1-tab.html">dsn_test_app_dst_a1</a></div></div><div class=MEntry><div class=MFile><a href="../Test/Schema/dsn_test_app_dst_a2-tab.html">dsn_test_app_dst_a2</a></div></div><div class=MEntry><div class=MFile><a href="../Test/Schema/dsn_test_app_source-tab.html">dsn_test_app_source</a></div></div><div class=MEntry><div class=MFile><a href="../Test/Schema/dsn_test_cmptemp-tab.html">dsn_test_cmptemp</a></div></div><div class=MEntry><div class=MFile><a href="../Test/Schema/dsn_test_cmptemp_ext-tab.html">dsn_test_cmptemp_ext</a></div></div><div class=MEntry><div class=MFile><a href="../Test/Schema/dsn_test_cmptemp_tmp-tab.html">dsn_test_cmptemp_tmp</a></div></div><div class=MEntry><div class=MFile><a href="../Test/Schema/dsn_test_compare-tab.html">dsn_test_compare</a></div></div><div class=MEntry><div class=MFile><a href="../Test/Schema/dsn_test_compare_ext-tab.html">dsn_test_compare_ext</a></div></div><div class=MEntry><div class=MFile><a href="../Test/Schema/dsn_test_compare_ext_bu_chg-trg.html">dsn_test_compare_ext_bu_chg</a></div></div><div class=MEntry><div class=MFile><a href="../Test/Schema/dsn_test_mview-tab.html">dsn_test_mview</a></div></div><div class=MEntry><div class=MFile><a href="../Test/Schema/dsn_test_mview_ext-tab.html">dsn_test_mview_ext</a></div></div><div class=MEntry><div class=MFile><a href="../Test/Schema/dsn_test_mview_ext_bu_chg-trg.html">dsn_test_mview_ext_bu_chg</a></div></div><div class=MEntry><div class=MFile><a href="../Test/Schema/dsn_test_source-tab.html">dsn_test_source</a></div></div><div class=MEntry><div class=MFile><a href="../Test/Schema/v_dsn_test_app_dst_a1_src-vw.html">v_dsn_test_app_dst_a1_src</a></div></div><div class=MEntry><div class=MFile><a href="../Test/Schema/v_dsn_test_app_dst_src-vw.html">v_dsn_test_app_dst_src</a></div></div><div class=MEntry><div class=MFile><a href="../Test/Schema/v_dsn_test_cmptemp-vw.html">v_dsn_test_cmptemp</a></div></div><div class=MEntry><div class=MFile><a href="../Test/Schema/v_dsn_test_compare-vw.html">v_dsn_test_compare</a></div></div><div class=MEntry><div class=MFile><a href="../Test/Schema/v_dsn_test_mview-vw.html">v_dsn_test_mview</a></div></div><div class=MEntry><div class=MFile><a href="../Test/Schema/v_dsn_test_mview_ext-vw.html">v_dsn_test_mview_ext</a></div></div></div></div></div><div class=MEntry><div class=MFile><a href="../Test/run-sql.html">run</a></div></div><div class=MEntry><div class=MFile><a href="../Test/dsn_test_t_refresh-prc.html">dsn_test_t_refresh</a></div></div></div></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent23')">Индекс</a><div class=MGroupContent id=MGroupContent23><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent20')">Объекты БД</a><div class=MGroupContent id=MGroupContent20><div class=MEntry><div class=MIndex><a href="../../index/DatabaseViews.html">Представления</a></div></div><div class=MEntry><div class=MIndex><a href="../../index/DatabaseTables.html">Таблицы</a></div></div><div class=MEntry><div class=MIndex><a href="../../index/DatabaseTriggers.html">Триггеры</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent21')">Открытые объявления</a><div class=MGroupContent id=MGroupContent21><div class=MEntry><div class=MIndex><a href="../../index/Constants.html">Константы</a></div></div><div class=MEntry><div class=MIndex><a href="../../index/Variables.html">Переменные</a></div></div><div class=MEntry><div class=MIndex><a href="../../index/Functionspublic.html">Функции</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent22')">Закрытые объявления</a><div class=MGroupContent id=MGroupContent22><div class=MEntry><div class=MIndex><a href="../../index/Typesinternal.html">Типы</a></div></div><div class=MEntry><div class=MIndex><a href="../../index/Constantsinternal.html">Константы</a></div></div><div class=MEntry><div class=MIndex><a href="../../index/Variablesinternal.html">Переменные</a></div></div></div></div></div><div class=MEntry><div class=MIndex><a href="../../index/Functions.html">Функции</a></div></div><div class=MEntry><div class=MIndex><a href="../../index/Files.html">Скрипты</a></div></div><div class=MEntry><div class=MIndex><a href="../../index/General.html">Все вместе</a></div></div></div></div></div><script type="text/javascript"><!--
var searchPanel = new SearchPanel("searchPanel", "HTML", "../../search");
--></script><div id=MSearchPanel class=MSearchPanelInactive><input type=text id=MSearchField value=Search onFocus="searchPanel.OnSearchFieldFocus(true)" onBlur="searchPanel.OnSearchFieldFocus(false)" onKeyUp="searchPanel.OnSearchFieldChange()"><select id=MSearchType onFocus="searchPanel.OnSearchTypeFocus(true)" onBlur="searchPanel.OnSearchTypeFocus(false)" onChange="searchPanel.OnSearchTypeChange()"><option  id=MSearchEverything selected value="General">Everything</option><option value="Constants">Constants</option><option value="Constantsinternal">Constants internal</option><option value="DatabaseTables">Database Tables</option><option value="DatabaseTriggers">Database Triggers</option><option value="DatabaseViews">Database Views</option><option value="Files">Files</option><option value="Functions">Functions</option><option value="Functionspublic">Functions public</option><option value="Typesinternal">Types internal</option><option value="Variables">Variables</option><option value="Variablesinternal">Variables internal</option></select></div><script language=JavaScript><!--
HideAllBut([1, 7, 11, 19], 24);// --></script></div><!--Menu-->



<!--START_ND_TOOLTIPS-->
<div class=CToolTip id="tt1"><div class=CGroup>Обновляет данные таблицы с помощью сравнения содержащихся в ней и актуальных данных и внесения необходимых изменений командами merge и delete ( см. </div></div><div class=CToolTip id="tt2"><div class=CGroup>Является оптимизированным вариантом метода Обновление с помощью сравнения данных: актуальные данные предварительно загружаются во временную таблицу, которая затем используется в командах merge и delete. </div></div><div class=CToolTip id="tt3"><div class=CGroup>Для регулярного обновления таблицы используется fast-обновляемое материализованное представление с опцией &ldquo;on prebuilt table&rdquo; на основе таблицы, которую требуется обновлять. </div></div><div class=CToolTip id="tt4"><div class=CGroup>Интерфейсные таблицы содержат основные данные по какой-то прикладной системе и используются для предоставления данных по этой системе внешним системам ( обычно создаются для последующей загрузки данных в хранилище). </div></div><div class=CToolTip id="tt5"><div class=CFunctionpublic><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>procedure refreshByCompare(</td><td class=PTypePrefix nowrap>targetTable&nbsp;</td><td class=PType nowrap>varchar2&nbsp;</td><td class=PParameter nowrap>,</td><td class=PDefaultValuePrefix>&nbsp;&nbsp;</td><td class=PDefaultValue width=100%></td></tr><tr><td></td><td class=PTypePrefix nowrap>dataSource&nbsp;</td><td class=PType nowrap>varchar2&nbsp;</td><td class=PParameter nowrap>,</td><td class=PDefaultValuePrefix>&nbsp;&nbsp;</td><td class=PDefaultValue width=100%></td></tr><tr><td></td><td class=PTypePrefix nowrap>tempTableName&nbsp;</td><td class=PType nowrap>varchar2&nbsp;</td><td class=PParameter nowrap>:</td><td class=PDefaultValuePrefix>&nbsp;=&nbsp;</td><td class=PDefaultValue width=100%> null ,</td></tr><tr><td></td><td class=PTypePrefix nowrap>excludeColumnList&nbsp;</td><td class=PType nowrap>varchar2&nbsp;</td><td class=PParameter nowrap>:</td><td class=PDefaultValuePrefix>&nbsp;=&nbsp;</td><td class=PDefaultValue width=100%> null</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Обновляет данные таблицы с помощью сравнения содержащихся в ней и актуальных данных и внесения необходимых изменений командами merge и delete.</div></div><div class=CToolTip id="tt6"><div class=CFunctionpublic><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>procedure refreshByMView(</td><td class=PTypePrefix nowrap>tableName&nbsp;</td><td class=PType nowrap>varchar2&nbsp;</td><td class=PParameter nowrap>,</td><td class=PDefaultValuePrefix>&nbsp;&nbsp;</td><td class=PDefaultValue width=100%></td></tr><tr><td></td><td class=PTypePrefix nowrap>sourceView&nbsp;</td><td class=PType nowrap>varchar2&nbsp;</td><td class=PParameter nowrap>:</td><td class=PDefaultValuePrefix>&nbsp;=&nbsp;</td><td class=PDefaultValue width=100%> null ,</td></tr><tr><td></td><td class=PTypePrefix nowrap>excludeColumnList&nbsp;</td><td class=PType nowrap>varchar2&nbsp;</td><td class=PParameter nowrap>:</td><td class=PDefaultValuePrefix>&nbsp;=&nbsp;</td><td class=PDefaultValue width=100%> null ,</td></tr><tr><td></td><td class=PTypePrefix nowrap>allowDropMViewList&nbsp;</td><td class=PType nowrap>cmn_string_table_t&nbsp;</td><td class=PParameter nowrap>:</td><td class=PDefaultValuePrefix>&nbsp;=&nbsp;</td><td class=PDefaultValue width=100%> null ,</td></tr><tr><td></td><td class=PTypePrefix nowrap>createMViewFlag&nbsp;</td><td class=PType nowrap>integer&nbsp;</td><td class=PParameter nowrap>:</td><td class=PDefaultValuePrefix>&nbsp;=&nbsp;</td><td class=PDefaultValue width=100%> null ,</td></tr><tr><td></td><td class=PTypePrefix nowrap>forceCreateMViewFlag&nbsp;</td><td class=PType nowrap>integer&nbsp;</td><td class=PParameter nowrap>:</td><td class=PDefaultValuePrefix>&nbsp;=&nbsp;</td><td class=PDefaultValue width=100%> null</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Обновляет данные интерфейсной таблицы с помощью fast-обновляемого материализованного представления.</div></div><div class=CToolTip id="tt7"><div class=CDatabaseObjectType>Функции для работы с объектами исходной схемы, используемыми для обновления интерфейсных таблиц ( абстрактный базовый класс).</div></div><div class=CToolTip id="tt8"><div class=CFunctionpublic><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>member procedure initialize(</td><td class=PTypePrefix nowrap>moduleSvnRoot&nbsp;</td><td class=PType nowrap>varchar2&nbsp;</td><td class=PParameter nowrap>,</td><td class=PDefaultValuePrefix>&nbsp;&nbsp;</td><td class=PDefaultValue width=100%></td></tr><tr><td></td><td class=PTypePrefix nowrap>viewList&nbsp;</td><td class=PType nowrap>cmn_string_table_t&nbsp;</td><td class=PParameter nowrap>,</td><td class=PDefaultValuePrefix>&nbsp;&nbsp;</td><td class=PDefaultValue width=100%></td></tr><tr><td></td><td class=PTypePrefix nowrap>mlogList&nbsp;</td><td class=PType nowrap>cmn_string_table_t&nbsp;</td><td class=PParameter nowrap>:</td><td class=PDefaultValuePrefix>&nbsp;=&nbsp;</td><td class=PDefaultValue width=100%> null</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Инициализирует экземпляр объекта. </div></div><div class=CToolTip id="tt9"><div class=CDatabaseObjectType>Функции для работы с интерфейсными таблицами ( абстрактный базовый класс).</div></div><div class=CToolTip id="tt10"><div class=CFunctionpublic><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>member procedure initialize(</td><td class=PTypePrefix nowrap>tableList&nbsp;</td><td class=PType nowrap>cmn_string_table_t&nbsp;</td><td class=PParameter nowrap>,</td><td class=PDefaultValuePrefix>&nbsp;&nbsp;</td><td class=PDefaultValue width=100%></td></tr><tr><td></td><td class=PTypePrefix nowrap>mlogList&nbsp;</td><td class=PType nowrap>cmn_string_table_t&nbsp;</td><td class=PParameter nowrap>:</td><td class=PDefaultValuePrefix>&nbsp;=&nbsp;</td><td class=PDefaultValue width=100%> null ,</td></tr><tr><td></td><td class=PTypePrefix nowrap>sourceSchema&nbsp;</td><td class=PType nowrap>varchar2&nbsp;</td><td class=PParameter nowrap>:</td><td class=PDefaultValuePrefix>&nbsp;=&nbsp;</td><td class=PDefaultValue width=100%> null</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Инициализирует экземпляр объекта. </div></div><!--END_ND_TOOLTIPS-->




<div id=MSearchResultsWindow><iframe src="" frameborder=0 name=MSearchResults id=MSearchResults></iframe><a href="javascript:searchPanel.CloseResultsWindow()" id=MSearchResultsWindowClose>Close</a></div>


<script language=JavaScript><!--
if (browserType) {if (browserVer) {document.write("</div>"); }document.write("</div>");}// --></script></body></html>