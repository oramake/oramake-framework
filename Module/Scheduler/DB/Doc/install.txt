title: Установка

group: Общие замечания

Параметры установки:
INSTALL_VERSION               - устанавливаемая версия модуля ( Last при
                                первоначальной установке или номер при
                                обновлении)
LOAD_OPERATORID               - логин и пароль оператора, выполняющего установку
                                ( формат: login/password)
LOAD_USERID                   - основной пользователь для установки в БД
                                ( формат: username/password@dbName)
LOAD_USERID2                  - пользователь, под которым создаются роли
                                для модуля AccessOperator
                                ( формат: username/password@dbName)



Дополнительные параметры:
PRODUCTION_DB_NAME            - может быть использован для явного задания
                                промышленной БД, к которой относится установка
                                ( при установке в тестовую БД
                                должно указываться имя соответствующей
                                промышленной БД, например,
                                PRODUCTION_DB_NAME=ProdDb), по
                                умолчанию значение определяется на основе
                                LOAD_USERID


Используемые настроечные параметры:
- перечислены в <pkg_SchedulerMain::Настроечные параметры>.

Перед установкой модуль деактивирует пакетные задания в БД
, а после успешной установки восстанавливает активацию.


В случае ошибок при установке:


Команда для восстановления выполнения заданий
в БД:

(code)

make install-after LOAD_USERID=???/???@??? LOAD_OPERATORID=???/???

(end)



group: 5.2.1

Порядок установки:

- выдача системных привилегий и прав на системные объекты пользователю,
  под которым будет установлен модуль;

(code)

make grant INSTALL_VERSION=5.2.1 LOAD_USERID=sys/???@??? LOAD_OPERATORID=???/??? TO_USERNAME=??? GRANT_SCRIPT=sys-privs

(end)

(либо вручную выдать пользователю, в схему которого установлен модуль, права,
указанные в скрипте <Install/Grant/5.2.1/sys-privs.sql>)

- установка в основную схему;

(code)

make install INSTALL_VERSION=5.2.1 LOAD_USERID=???/???@??? LOAD_OPERATORID=???/???

(end)



group: 5.2.0
(<Версии::5.2.0 ( 2019-05-08)>)

Порядок установки:

- установка в основную схему;

(code)

make install INSTALL_VERSION=5.2.0 LOAD_USERID=???/???@??? LOAD_OPERATORID=???/???

(end code)



group: 5.1.0

Предварительные требования:
- установка с использованием OraMakeSystem версии не ниже 2.2.0
  (существенно для последующих установок прикладных модулей, использующих
  скрипты управления пакетными заданиями oms-*-batch.sql)
- обновление модуля ProcessMonitor до версии 1.3.2 (если он установлен в БД);

Порядок установки:

- установка в основную схему;

(code)

make install INSTALL_VERSION=5.1.0 LOAD_USERID=???/???@??? LOAD_OPERATORID=???/???

(end code)



group: 5.0.0
(<Версии::5.0.0 ( 2019-01-22)>)

Порядок установки:

- выдача системных привилегий и прав на системные объекты пользователю,
  под которым будет установлен модуль;

(code)

make grant INSTALL_VERSION=5.0.0 LOAD_USERID=sys/???@??? LOAD_OPERATORID=???/??? TO_USERNAME=??? GRANT_SCRIPT=sys-privs

(end)

(либо вручную выдать пользователю, в схему которого установлен модуль, права,
указанные в скрипте <Install/Grant/5.0.0/sys-privs.sql>)

- установка в основную схему;

(code)

make install INSTALL_VERSION=5.0.0 LOAD_USERID=???/???@??? LOAD_OPERATORID=???/???

(end code)



group: 4.6.0

Предварительные требования:
- установка модуля Logging версии 2.0.0;

Порядок установки:

- установка в основную схему;

(code)

make install INSTALL_VERSION=4.6.0 LOAD_USERID=???/???@??? LOAD_OPERATORID=???/???

(end code)



group: 4.5.0

Порядок установки:

- установка в основную схему;

(code)

make install INSTALL_VERSION=4.5.0 LOAD_USERID=???/???@??? LOAD_OPERATORID=???/???

(end code)



group: 4.4.0

Порядок установки:

- установка в основную схему

(code)

make install INSTALL_VERSION=4.4.0 LOAD_USERID=???/???@??? LOAD_OPERATORID=???/???

(end)



group: 4.3.5

Порядок установки:

- установка в основную схему

(code)

make install INSTALL_VERSION=4.3.5 LOAD_USERID=???/???@??? LOAD_OPERATORID=???/???

(end)

Замечания:
- остановка выполнения заданий в БД на время установки не производится;



group: Первоначальная установка

Предварительные требования:
- установка модуля ModuleInfo;
- установка модуля Common;
- установка модуля Logging;
- установка модуля AccessOperator
  ( при этом в БД, в которой будут создаваться роли ( указываемой
    LOAD_USERID2), версия модуля должна быть не ниже 3.14.0);
- установка модуля DynamicSql;
- установка модуля Option;

Порядок установки:

- выдача системных привилегий и прав на системные объекты пользователю, под
  которым будет установлен модуль

(code)

make grant LOAD_USERID=sys/???@??? TO_USERNAME=??? GRANT_SCRIPT=sys-privs

(end)

- установка модуля в БД

(code)

make install INSTALL_VERSION=Last LOAD_USERID=???/???@??? LOAD_OPERATORID=???/???

(end)

- создание ролей для модуля AccessOperator

(code)

make install INSTALL_VERSION=Last LOAD_USERID2=???/???@??? LOAD_OPERATORID=???/???

(end)



group: Выдача прав на использование модуля

Команда для выдачи прав на:

- использование модуля ( все права)

(code)

make grant LOAD_USERID=???/??? LOAD_OPERATORID=???/??? TO_USERNAME=???

(end)

- управление выполнением пакетных заданий

(code)

make grant LOAD_USERID=???/??? LOAD_OPERATORID=???/??? TO_USERNAME=??? GRANT_SCRIPT=manage-batch.sql

(end)

- создание пакетных заданий

(code)

make grant LOAD_USERID=???/??? LOAD_OPERATORID=???/??? TO_USERNAME=??? GRANT_SCRIPT=create-batch.sql

(end)



group: Выполнение тестов

Предварительные требования:
- установка модуля TestUtility;
- установка тестовых объектов модуля ModuleInfo;

Команда установки объектов для выполнения тестов:

(code)

make install-test LOAD_USERID=???/???@??? LOAD_OPERATORID=???/???

(end)

Команда для выполнения всех тестов:

(code)

make test LOAD_USERID=???/???@??? LOAD_OPERATORID=???/???

(end)



group: Удаление модуля из БД

Команда удаления модуля из БД:

(code)

make uninstall INSTALL_VERSION=Last LOAD_USERID=???/???@??? LOAD_OPERATORID=???/???

(end)
