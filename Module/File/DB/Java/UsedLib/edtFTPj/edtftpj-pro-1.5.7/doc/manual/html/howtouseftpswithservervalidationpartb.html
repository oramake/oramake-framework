<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns:mshelp="http://msdn.microsoft.com/mshelp">
<head>
  <title>How to use FTPS (with server validation - part B)</title>


  <meta name="generator" content="HelpMaker.net">

  <meta name="keywords" content="Chapter 3,">

  <link rel="stylesheet" type="text/css" href="ms-help://Hx/HxRuntime/HxLink.css">

  <link rel="stylesheet" type="text/css" href="ms-help://Hx/HxRuntime/HxLinkDefault.css">

</head>


<body style="background-color: rgb(255, 255, 255);">

<table cellpadding="0" cellspacing="0" width="100%">

  <tbody>

    <tr>

      <td style="background-image: url(../images/bk_tl.jpg); background-repeat: repeat-x;"><img src="../images/space.gif" height="4" width="4"></td>

      <td style="background-image: url(../images/bk_t.jpg); background-repeat: repeat-x;"><img src="../images/space.gif" height="4" width="4"></td>

      <td style="background-image: url(../images/bk_tr.jpg); background-repeat: repeat-x;"><img src="../images/space.gif" height="4" width="4"></td>

    </tr>

    <tr>

      <td style="background-image: url(../images/bk_l.jpg); background-repeat: repeat-y;" width="4"><img src="../images/space.gif" height="4" width="4"></td>

      <td style="font-family: sans-serif; font-weight: bold; font-size: 14pt; background-image: url(../images/bk_c.jpg); background-repeat: repeat;" width="100%"> &nbsp;How to use FTPS (with server
validation - part B) </td>

      <td style="background-image: url(../images/bk_r.jpg); background-repeat: repeat-y;" width="4"><img src="../images/space.gif" height="4" width="4"></td>

    </tr>

    <tr>

      <td style="background-image: url(../images/bk_bl.jpg); background-repeat: repeat-x;" height="4"><img src="../images/space.gif" height="4" width="4"></td>

      <td style="background-image: url(../images/bk_b.jpg); background-repeat: repeat-x;"><img src="../images/space.gif" height="4" width="4"></td>

      <td style="background-image: url(../images/bk_br.jpg); background-repeat: repeat-x;"><img src="../images/space.gif" height="4" width="4"></td>

    </tr>

  </tbody>
</table>

<br>

<div align="left"><font color="#010101" face="Arial"><span style="font-size: 10pt;">This
topic continues from </span></font><a href="howtouseftpswithservervalidationparta.html"><font color="#0000ff" face="Arial"><span style="font-size: 10pt;"><u>How to use FTPS (with
server validation - part A)</u></span></font></a><font color="#010101" face="Arial"><span style="font-size: 10pt;">.</span></font></div>

<div align="left"><br>

</div>

<div align="left"><font color="#010101" face="Arial"><span style="font-size: 10pt;">Every
certificate has a CommonName (CN) attribute.&nbsp; It is common for
this attribute to be set
to the host-name of the server.&nbsp; If, for example, the name of
the server is </span></font><font color="#010101" face="Lucida Console"><span style="font-size: 10pt;">ftp.mycompany.com</span></font><font color="#010101" face="Arial"><span style="font-size: 10pt;"> the CN would be </span></font><font color="#010101" face="Lucida Console"><span style="font-size: 10pt;">ftp.mycompany.com</span></font><font color="#010101" face="Arial"><span style="font-size: 10pt;"> also.&nbsp;When the CN is not
the same as the host-name then the <a href="../../api/com/enterprisedt/net/ftp/ssl/SSLFTPStandardValidator.html"><font color="#0000ff" face="Arial"><span style="font-size: 10pt;"><u>SSLFTPStandardValidator</u></span></font></a>
</span></font><font color="#010101" face="Arial"><span style="font-size: 10pt;">will not successfully validate the
server certificate, and the connection attempt will fail. </span></font></div>

<div align="left"><br>

</div>

<div align="left"><font color="#010101" face="Arial"><span style="font-size: 10pt;">As
it is not uncommon for the hostname to differ from the CN, the name to
match to the CN can be explicitly supplied to the validator. A new
instance must be created, as shown below:&nbsp;</span></font><br>

</div>

<div style="margin-left: 13mm; margin-right: 0mm; text-indent: 0mm;" align="left"><br>

<font color="#010101" face="Lucida Console" size="1"><span style="font-size: 9pt;">ftp.setCustomValidator(new
<a href="../../api/com/enterprisedt/net/ftp/ssl/SSLFTPStandardValidator.html#SSLFTPStandardValidator%28java.lang.String%29">SSLFTPStandardValidator</a>(commonName));<br>

<br>

</span></font></div>

<div align="left"><font color="#010101" face="Arial"><span style="font-size: 10pt;">Here,
a <span style="font-style: italic;">commonName</span>
variable holds the string to be matched to the CN of the
server certificate. </span></font></div>

<div align="left"><br>

</div>

<div align="left"><font color="#010101" face="Arial"><span style="font-size: 10pt;">See&nbsp;</span></font><a href="howtouseftpswithservervalidationpartc.html"><font color="#0000ff" face="Arial"><span style="font-size: 10pt;"><u>How to use FTPS (with
server validation - part C)</u></span></font></a><font color="#010101" face="Arial"><span style="font-size: 10pt;"> for details on how to ignore the
CN completely.</span></font></div>

<div align="left"><br>

</div>

<div align="left"><font color="#010101" face="Arial"><span style="font-size: 10pt;">
Apart
from this, configuration of the&nbsp;</span></font><font color="#010101" face="Arial"><a href="../../api/com/enterprisedt/net/ftp/ssl/SSLFTPClient.html"><font color="#0000ff" face="Arial"><span style="font-size: 10pt;"><u>SSLFTPClient</u></span></font></a></font><font color="#010101" face="Arial"><span style="font-size: 10pt;"></span></font><font color="#010101" face="Arial"><span style="font-size: 10pt;"></span></font><font color="#010101" face="Arial"><span style="font-size: 10pt;"> is the same as in </span></font><a href="howtouseftpswithservervalidationparta.html"><font color="#0000ff" face="Arial"><span style="font-size: 10pt;"><u>Part A</u></span></font></a><font color="#010101" face="Arial"><span style="font-size: 10pt;">.</span></font></div>

</body>
</html>
