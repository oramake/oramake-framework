<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns:mshelp="http://msdn.microsoft.com/mshelp">
<head>


  


  
  
  
  <title>How to use FTPS (without server validation)</title>
  <meta name="generator" content="HelpMaker.net">



  
  
  <meta name="keywords" content="Chapter 3,">



  
  
  <link rel="stylesheet" type="text/css" href="ms-help://Hx/HxRuntime/HxLink.css">



  
  
  <link rel="stylesheet" type="text/css" href="ms-help://Hx/HxRuntime/HxLinkDefault.css">
</head>


<body style="background-color: rgb(255, 255, 255);">

    
<table cellpadding="0" cellspacing="0" width="100%">

      <tbody>
    <tr>

        <td style="background-image: url(../images/bk_tl.jpg); background-repeat: repeat-x;"><img src="../images/space.gif" height="4" width="4"></td>

        <td style="background-image: url(../images/bk_t.jpg); background-repeat: repeat-x;"><img src="../images/space.gif" height="4" width="4"></td>

        <td style="background-image: url(../images/bk_tr.jpg); background-repeat: repeat-x;"><img src="../images/space.gif" height="4" width="4"></td>

      </tr>

      <tr>

        <td style="background-image: url(../images/bk_l.jpg); background-repeat: repeat-y;" width="4"><img src="../images/space.gif" height="4" width="4"></td>

        <td style="font-family: sans-serif; font-weight: bold; font-size: 14pt; background-image: url(../images/bk_c.jpg); background-repeat: repeat;" width="100%">
          &nbsp;How to use FTPS (without server validation)
        </td>

        <td style="background-image: url(../images/bk_r.jpg); background-repeat: repeat-y;" width="4"><img src="../images/space.gif" height="4" width="4"></td>

      </tr>

      <tr>

        <td style="background-image: url(../images/bk_bl.jpg); background-repeat: repeat-x;" height="4"><img src="../images/space.gif" height="4" width="4"></td>

        <td style="background-image: url(../images/bk_b.jpg); background-repeat: repeat-x;"><img src="../images/space.gif" height="4" width="4"></td>

        <td style="background-image: url(../images/bk_br.jpg); background-repeat: repeat-x;"><img src="../images/space.gif" height="4" width="4"></td>

      </tr>

    
  </tbody>
</table>

<br>

<div align="left"><font color="#010101" face="Arial"><span style="font-size: 10pt;">The
topic </span></font><a href="howtouseftpsintroduction.html"><font color="#0000ff" face="Arial"><span style="font-size: 10pt;"><u>How
to use FTPS (introduction)</u></span></font></a><font color="#010101" face="Arial"><span style="font-size: 10pt;"> describes
the FTPS features of&nbsp;</span></font><font color="#010101" face="Arial"><span style="font-size: 10pt;"><a href="../../api/com/enterprisedt/net/ftp/ssl/SSLFTPClient.html"><font color="#0000ff" face="Arial"><span style="font-size: 10pt;"><u>SSLFTPClient</u></span></font></a></span></font><font color="#010101" face="Arial"><span style="font-size: 10pt;"></span></font><font color="#010101" face="Arial"><span style="font-size: 10pt;">.&nbsp; This topic demonstrates
the use of FTPS without
server validation.
Server validation should always be used in a production environment,
but disabling it is a good
way of getting started.</span></font></div>
<br>



<font color="#010101" face="Arial"><span style="font-size: 10pt;">Using FTPS without server
validation is shown in the example below:<br>



</span></font>
<div style="margin-left: 13mm; margin-right: 0mm; text-indent: 0mm;" align="left"><br>



<font color="#010101" face="Lucida Console" size="1"><span style="font-size: 8pt;">ftp.<a href="../../api/com/enterprisedt/net/ftp/ssl/SSLFTPClient.html#setValidateServer%28boolean%29">setValidateServer</a>(false);<br>



</span></font><font color="#010101" face="Lucida Console" size="1"><span style="font-size: 8pt;">ftp.<a href="../../api/com/enterprisedt/net/ftp/ssl/SSLFTPClient.html#connect%28%29">connect</a>();<br>



ftp.<a href="../../api/com/enterprisedt/net/ftp/ssl/SSLFTPClient.html#auth%28java.lang.String%29">auth</a>(SSLFTPClient.<a href="../../api/com/enterprisedt/net/ftp/ssl/SSLFTPClient.html#AUTH_TLS">AUTH_TLS</a>);<br>



</span></font><font color="#010101" face="Lucida Console" size="1"><span style="font-size: 8pt;"><br>



</span></font></div>



<div align="left"><font color="#010101" face="Arial"><span style="font-size: 10pt;">The
first line disables server validation, the second line connects to the
server, and the third line switches to TLS (secure mode).&nbsp;</span></font><font color="#010101" face="Arial"><span style="font-size: 10pt;"></span></font></div>



<div align="left"><br>



</div>



<div align="left"><font color="#010101" face="Arial"><span style="font-size: 10pt;">After
this, all that is required is to login as normal:</span></font><font color="#010101" face="Arial"><span style="font-size: 10pt;"></span></font></div>



<div style="margin-left: 13mm; margin-right: 0mm; text-indent: 0mm;" align="left"><br>



<font color="#010101" face="Lucida Console" size="1"><span style="font-size: 8pt;">ftp.login(username, password);<br>



</span></font></div>



<div align="left"><br>



</div>



<div align="left"><font color="#010101" face="Arial"><span style="font-size: 10pt;">Now
it can be treated as an ordinary FTP client, i.e. all the normal FTP
operations of&nbsp;</span></font><font color="#010101" face="Arial"><span style="font-size: 10pt;"></span></font><font color="#010101" face="Arial"><span style="font-size: 10pt;"><a href="../../api/com/enterprisedt/net/ftp/FTPClient.html"><font color="#0000ff" face="Arial"><span style="font-size: 10pt;"><u>FTPClient</u></span></font></a></span></font><font color="#010101" face="Arial"><span style="font-size: 10pt;"> (which are inherited by </span></font><font color="#010101" face="Arial"><span style="font-size: 10pt;"></span></font><font><u><font color="#010101" face="Arial"><a href="../../api/com/enterprisedt/net/ftp/ssl/SSLFTPClient.html"><font color="#0000ff" face="Arial"><span style="font-size: 10pt;"><u>SSLFTPClient</u></span></font></a></font></u></font>)
<font color="#010101" face="Arial"><span style="font-size: 10pt;">can be performed</span></font><font color="#010101" face="Arial"><span style="font-size: 10pt;">. <br>



</span></font><font color="#010101" face="Arial"><span style="font-size: 10pt;"></span></font></div>



<div align="left"><br>



</div>



<div align="left"><font color="#010101" face="Arial"><span style="font-size: 10pt;"><span style="font-weight: bold;">Note</span>: Some FTPS
servers don't fully comply with the relevant standards, and in
particular don't close SSL connections correctly. If you are
experiencing hangs on the completion of data transfers, or problems
when the connection is closed, try using the DISABLE_SSL_CLOSURE
configuration flag before connecting, as shown below:</span></font><font color="#010101" face="Arial"><span style="font-size: 10pt;"></span></font></div>



<div style="margin-left: 13mm; margin-right: 0mm; text-indent: 0mm;" align="left"><br>



<font color="#010101" face="Lucida Console" size="1"><span style="font-size: 8pt;">ftp.<a href="../../api/com/enterprisedt/net/ftp/ssl/SSLFTPClient.html#setConfigFlags%28int%29">setConfigFlags</a>(SSLFTPClient.ConfigFlags.<a href="../../api/com/enterprisedt/net/ftp/ssl/SSLFTPClient.ConfigFlags.html#DISABLE_SSL_CLOSURE">DISABLE_SSL_CLOSURE</a>);<br>



</span></font></div>



</body>
</html>
