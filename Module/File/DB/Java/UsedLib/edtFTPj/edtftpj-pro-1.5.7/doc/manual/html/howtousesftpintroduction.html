<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns:mshelp="http://msdn.microsoft.com/mshelp">
<head>
  <title>How to use SFTP (introduction)</title>


  <meta name="generator" content="HelpMaker.net">

  <meta name="keywords" content="Chapter 3,">

  <link rel="stylesheet" type="text/css" href="ms-help://Hx/HxRuntime/HxLink.css">

  <link rel="stylesheet" type="text/css" href="ms-help://Hx/HxRuntime/HxLinkDefault.css">

</head>


<body style="background-color: rgb(255, 255, 255);">

<table cellpadding="0" cellspacing="0" width="100%">

  <tbody>

    <tr>

      <td style="background-image: url(../images/bk_tl.jpg); background-repeat: repeat-x;"><img src="../images/space.gif" height="4" width="4"></td>

      <td style="background-image: url(../images/bk_t.jpg); background-repeat: repeat-x;"><img src="../images/space.gif" height="4" width="4"></td>

      <td style="background-image: url(../images/bk_tr.jpg); background-repeat: repeat-x;"><img src="../images/space.gif" height="4" width="4"></td>

    </tr>

    <tr>

      <td style="background-image: url(../images/bk_l.jpg); background-repeat: repeat-y;" width="4"><img src="../images/space.gif" height="4" width="4"></td>

      <td style="font-family: sans-serif; font-weight: bold; font-size: 14pt; background-image: url(../images/bk_c.jpg); background-repeat: repeat;" width="100%"> &nbsp;How to use SFTP (introduction) </td>

      <td style="background-image: url(../images/bk_r.jpg); background-repeat: repeat-y;" width="4"><img src="../images/space.gif" height="4" width="4"></td>

    </tr>

    <tr>

      <td style="background-image: url(../images/bk_bl.jpg); background-repeat: repeat-x;" height="4"><img src="../images/space.gif" height="4" width="4"></td>

      <td style="background-image: url(../images/bk_b.jpg); background-repeat: repeat-x;"><img src="../images/space.gif" height="4" width="4"></td>

      <td style="background-image: url(../images/bk_br.jpg); background-repeat: repeat-x;"><img src="../images/space.gif" height="4" width="4"></td>

    </tr>

  </tbody>
</table>

<br>

<div align="left"><font color="#010101" face="Arial"><span style="font-size: 10pt;"><a href="../../api/com/enterprisedt/net/ftp/ssh/SSHFTPClient.html"><font color="#0000ff" face="Arial"><span style="font-size: 10pt;"><u>SSHFTPClient</u></span></font></a></span></font><font color="#010101" face="Arial"><span style="font-size: 10pt;">&nbsp;should be used when
secure file transfers are
required via SFTP. </span></font><font color="#010101" face="Arial"><span style="font-size: 10pt;"></span></font><font color="#010101" face="Arial"><span style="font-size: 10pt;"><a href="../../api/com/enterprisedt/net/ftp/FTPClient.html"><font color="#0000ff" face="Arial"><span style="font-size: 10pt;"><u>FTPClient</u></span></font></a></span></font><font color="#010101" face="Arial"><span style="font-size: 10pt;"> and&nbsp;</span></font><font><u><font color="#010101" face="Arial"><a href="../../api/com/enterprisedt/net/ftp/pro/ProFTPClient.html"><font color="#0000ff" face="Arial"><span style="font-size: 10pt;"><u>ProFTPClient</u></span></font></a></font></u></font><font color="#010101" face="Arial"><span style="font-size: 10pt;"> do not support secure
transfers.&nbsp;</span></font><font color="#010101" face="Arial"><span style="font-size: 10pt;"><a href="../../api/com/enterprisedt/net/ftp/ssl/SSLFTPClient.html"><font color="#0000ff" face="Arial"><span style="font-size: 10pt;"><u>SSLFTPClient</u></span></font></a></span></font><font color="#010101" face="Arial"><span style="font-size: 10pt;">&nbsp;</span></font><font color="#010101" face="Arial"><span style="font-size: 10pt;">supports the&nbsp;FTPS
protocol, which is unrelated to SFTP.</span></font><font color="#010101" face="Arial"><span style="font-size: 10pt;"></span></font></div>

<div align="left"><br>

</div>

<div align="left"><font face="Arial"><span style="font-size: 10pt;">The basic elements of configuring
an SFTP connection are:</span></font></div>

<div align="left"><br>

</div>

<div style="margin-left: 13mm; margin-right: 0mm; text-indent: 0mm;" align="left"></div>

<div style="margin-left: 13mm; margin-right: 0mm; text-indent: -6mm;" align="left"><font face="Symbol"><span style="font-size: 10pt;">&middot;&nbsp;&nbsp;&nbsp;&nbsp;</span></font><font color="#010101" face="Arial"><span style="font-size: 10pt;"><b>Server Validation: </b></span></font><font face="Arial"><span style="font-size: 10pt;">Ensuring
the SSH server is validated is an important issue in
SFTP. By default an attempt will be made to validate the server using
the client's local
store of server public keys. Typically, the server's public key is
stored in either a file
containing that single key, or in a file often called <i>known_hosts</i>
which can contain a
number of public keys for different servers. When the client connects
to the server,
the server's public key is returned and compared with the available
public keys stored
in the client. <br>

<br>

</span></font></div>

<div style="margin-left: 13mm; margin-right: 0mm; text-indent: -6mm;" align="left"><font face="Symbol"><span style="font-size: 10pt;">&middot;&nbsp;&nbsp;&nbsp;&nbsp;</span></font><font face="Arial"><span style="font-size: 10pt;"><b>Client
Authentication: </b>Clients are authenticated by either username
and
password, or private key and private key passphrase. In the first case,
the user
requires an
account on the server that is set up for SFTP access. In the second
case, the user's
public key must be registered with the server (typically by copying it
into an <i>authorized_keys</i> file on the server), and
the user's private key must be loaded by the
client. A third method known as keyboard-interactive authentication is
also supported.</span></font></div>

<div align="left"><br>

</div>

<div align="left"><font color="#010101"><br>

</font></div>

<div align="left"><font color="#010101" face="Arial"><span style="font-size: 11pt;"><b>Validation
of Server Public Keys</b></span></font></div>

<span style="font-family: Arial;"><br>

</span><font color="#010101" face="Arial"><span style="font-size: 10pt;">Usage
of server validation is strongly recommended since it virtually
eliminates the possibility
of communicating with the wrong server. While developing
code, however, the programmer
might like to postpone any possible&nbsp;validation issues by
disabling server validation. </span></font><font color="#010101" face="Arial"><span style="font-size: 10pt;">Note that server validation
should never be disabled on production systems.<br>

<br>

All operations related to server validation are delegated to an
instance of <a href="../../api/com/enterprisedt/net/ftp/ssh/SSHFTPValidator.html">SSHFTPValidator</a>
(or a subclass thereof). This instance maintains a list of server
public keys that are authorized. It can
be accessed through the <a href="../../api/com/enterprisedt/net/ftp/ssh/SSHFTPClient.html#getValidator%28%29">SSHFTPClient.getValidator()</a>
method. <br>

<br>

To disable server validation, see&nbsp;</span></font><font><u><a href="howtousesftpwithoutservervalidation.html"><font color="#0000ff" face="Arial"><span style="font-size: 10pt;"><u>How to use SFTP (without
server validation)</u></span></font></a></u></font><font color="#010101" face="Arial"><span style="font-size: 10pt;">.<br>

</span></font>
<div align="left"><br>

</div>

<div align="left"><font color="#010101" face="Arial"><span style="font-size: 10pt;">By
default server validation is enabled. This means that the server's
public key must added to the validator's local store of public keys for
a connection to be successful.&nbsp;</span></font>
<div align="left"><br>

</div>

<font color="#010101" face="Arial"><span style="font-size: 10pt;">There are two ways that the client
can load server public keys into the validator's store - via the </span></font><a href="howtousesftpwithservervalidationknownhosts.html"><font color="#0000ff" face="Arial"><span style="font-size: 10pt;"><u>known_hosts file</u></span></font></a><font color="#010101" face="Arial"><span style="font-size: 10pt;"> or by explicitly </span></font><a href="howtousesftpwithservervalidationpublickeyfile.html"><font color="#0000ff" face="Arial"><span style="font-size: 10pt;"><u>loading a public key from
a file</u></span></font></a><font color="#010101" face="Arial"><span style="font-size: 10pt;">.<br>

</span></font>
<div align="left"><font color="#010101"><br>

</font></div>

<div align="left"><font color="#010101" face="Arial"><span style="font-size: 11pt;"><b>Client
Authentication</b></span></font></div>

<br>

<font color="#010101" face="Arial"><span style="font-size: 10pt;">The most commonly used forms of
client authentication are by username/password or by public/private
keys. </span></font><font color="#010101" face="Arial"><span style="font-size: 10pt;">Note
that some SFTP servers are set up to disallow password authentication
by default, </span></font><font color="#010101" face="Arial"><span style="font-size: 10pt;">in
which case
username/password&nbsp;connection attempts will fail unless
password authentication is enabled in the server
configuration file.<br>

<br>

For details on each method of client authentication, see:<br>

</span></font>
<ul>

  <li><font><u><a href="howtousesftpwithclientvalidation.html"><font color="#0000ff" face="Arial"><span style="font-size: 10pt;"><u>How to use SFTP (with
client validation - password authentication)</u></span></font></a></u></font><font color="#010101" face="Arial"><span style="font-size: 10pt;">.&nbsp;</span></font></li>

  <li><font color="#010101" face="Arial"><span style="font-size: 10pt;"></span></font><font><u><a href="howtousesftpwithclientvalidationpublickeyauthentication.html"><font color="#0000ff" face="Arial"><span style="font-size: 10pt;"><u>How to use SFTP (with
client validation - public key authentication)</u></span></font></a><span style="font-family: Arial;"></span></u></font></li>

  <li><font><u><span style="font-family: Arial;"></span></u></font><font color="#010101" face="Arial"><span style="font-size: 10pt;"></span></font><font><u><a href="howtousesftpwithclientvalidationkeyboardinteractiveauthentication.html"><font color="#0000ff" face="Arial"><span style="font-size: 10pt;"><u>How to use SFTP (with
client validation - keyboard-interactive authentication)</u></span></font></a>.</u></font></li>

</ul>

<font color="#010101" face="Arial"><span style="font-size: 10pt;">
<br>

</span></font><font color="#010101" face="Arial"><span style="font-size: 11pt;"><b>Keypair Generation<br>

<br>

</b></span></font><font color="#010101" face="Arial"><span style="font-size: 10pt;">See&nbsp;</span></font><font><u><a href="howtousesftpkeypairgeneration.html"><font color="#0000ff" face="Arial"><span style="font-size: 10pt;"><u>How to use SFTP (keypair
generation)</u></span></font></a></u></font>
<font color="#010101" face="Arial"><span style="font-size: 10pt;">for details on generating SSH
keypairs for use in SFTP.<br>

</span></font></div>

<div align="left"><font color="#010101"><br>

</font></div>

</body>
</html>
