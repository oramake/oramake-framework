<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html xmlns:mshelp="http://msdn.microsoft.com/mshelp"><head>  <title>How to resolve common problems</title>  <meta name="generator" content="HelpMaker.net">  <meta name="keywords" content="Chapter 3,">  <link rel="stylesheet" type="text/css" href="ms-help://Hx/HxRuntime/HxLink.css">  <link rel="stylesheet" type="text/css" href="ms-help://Hx/HxRuntime/HxLinkDefault.css"></head><body style="background-color: rgb(255, 255, 255);"><table cellpadding="0" cellspacing="0" width="100%">  <tbody>    <tr>      <td style="background-image: url(../images/bk_tl.jpg); background-repeat: repeat-x;"><img src="../images/space.gif" height="4" width="4"></td>      <td style="background-image: url(../images/bk_t.jpg); background-repeat: repeat-x;"><img src="../images/space.gif" height="4" width="4"></td>      <td style="background-image: url(../images/bk_tr.jpg); background-repeat: repeat-x;"><img src="../images/space.gif" height="4" width="4"></td>    </tr>    <tr>      <td style="background-image: url(../images/bk_l.jpg); background-repeat: repeat-y;" width="4"><img src="../images/space.gif" height="4" width="4"></td>      <td style="font-family: sans-serif; font-weight: bold; font-size: 14pt; background-image: url(../images/bk_c.jpg); background-repeat: repeat;" width="100%"> &nbsp;How to resolve common problems </td>      <td style="background-image: url(../images/bk_r.jpg); background-repeat: repeat-y;" width="4"><img src="../images/space.gif" height="4" width="4"></td>    </tr>    <tr>      <td style="background-image: url(../images/bk_bl.jpg); background-repeat: repeat-x;" height="4"><img src="../images/space.gif" height="4" width="4"></td>      <td style="background-image: url(../images/bk_b.jpg); background-repeat: repeat-x;"><img src="../images/space.gif" height="4" width="4"></td>      <td style="background-image: url(../images/bk_br.jpg); background-repeat: repeat-x;"><img src="../images/space.gif" height="4" width="4"></td>    </tr>  </tbody></table><br><div align="left"><font color="#010101" face="Arial"><span style="font-size: 10pt;">Somecommonly encountered problems and their resolution are described below.</span></font></div><div align="left"><br></div><div align="left"><font color="#010101" face="Arial"><span style="font-size: 10pt;">Beforeyou contact EDT Support, check this list and also gothrough the&nbsp;</span></font><a href="howtodiagnoseproblems.html"><font color="#0000ff" face="Arial"><span style="font-size: 10pt;"><u>Howto diagnoseproblems</u></span></font></a><font color="#010101" face="Arial"><span style="font-size: 10pt;"> topic.</span></font></div><div align="left"><br></div><div style="margin-left: 6mm; margin-right: 0mm; text-indent: -6mm;" align="left"><font color="#010101" face="Arial"><span style="font-size: 10pt;">1.&nbsp;&nbsp;&nbsp;<span style="font-weight: bold;">Unusual ClassCastExceptions</span>.When edtFTPj/PRO is used in application servers such as Tomcat orWeblogic, you may get unusual ClassCastExceptions. This is generallydue to multipleclassloaders. The edtFTPj/PRO jar file should only be located in oneplace on the application server. If it is located in a common librarydirectory as well as an application context, this error is possible.<br></span></font></div><div align="left"><br></div><div style="margin-left: 6mm; margin-right: 0mm; text-indent: -6mm;" align="left"><font color="#010101" face="Arial"><span style="font-size: 10pt;">2.&nbsp;&nbsp; <span style="font-weight: bold;">ParseException using dirDetails()</span>.edtFTPj/PRO supports as many server directory listing formats aspossible, howeveroccasionally unknown formats arise. However this problem can also occurif the client is in adifferent locale to the server. edtFTPj/PRO cannot easily work out thelocale of the server, and thus FTPClient.setParserLocale() can be usedto force the client to use a particular server's locale.<br></span></font></div><div align="left"><br></div><div style="margin-left: 6mm; margin-right: 0mm; text-indent: -6mm;" align="left"><font color="#010101" face="Arial"><span style="font-size: 10pt;">3.&nbsp;&nbsp; <span style="font-weight: bold;">Signer informationdoes not match</span>.edtFTPj/PRO's jar file is digitally signed. An error such as "class com.enterprisedt.net.ftp.FTPClient's signer informationdoes not match signer information of other classes in the same package" generally indicates thatan unsigned jar containing the same class has been loaded from the CLASSPATH. This is usually becauseedtFTPj's jar file is also in the CLASSPATH. Ensure that <b>edtftpj.jar</b> and <b>edtftpj-pro.jar</b> are not bothin the CLASSPATH, i.e. remove <b>edtftpj.jar</b> from the CLASSPATH.<br></span></font></div><div align="left"><br></div><div style="margin-left: 6mm; margin-right: 0mm; text-indent: -6mm;" align="left"><font color="#010101" face="Arial"><span style="font-size: 10pt;">4.&nbsp;&nbsp; <span style="font-weight: bold;">Failing to create sockets(IOException)</span>. </span></font><font color="#010101" face="Arial"><span style="font-size: 10pt;">Generally, applications have a limit to the number of socketsthey can have open simultaneously (in Unix this is controlled viaulimit). This wouldn't be a problem if sockets disappeared as soon asthey were closed. In TCP/IP, however, when sockets are closed theyenter the TIME_WAIT state. The socket stays in this state long enoughto let stray TCP packets for this connection expire - usually up to 2minutes. </span></font><font color="#010101" face="Arial"><span style="font-size: 10pt;">Since every data transfer and directorylisting uses a new socket,&nbsp;if a large number of transfers are performedquickly, the number of sockets in TIME_WAIT can build up rapidly andthe application run out of sockets. There are various solutions. Thelength of time a socket is in TIME_WAIT can be decreased (not a goodidea generally). The number of sockets available to an application canbe increased via ulimit (Unix) or via the MaxUserPort registry parameter (Windows). Preferably,it is best to </span></font><font color="#010101" face="Arial"><span style="font-size: 10pt;">spaceout transfers a little so sockets have a chance to expire fromTIME_WAIT, or&nbsp;</span></font><font color="#010101" face="Arial"><span style="font-size: 10pt;">catch the exception, sleep andretry repeatedly. &nbsp;<br></span></font></div><div align="left"><br><div align="left"><br></div><font color="#010101" face="Arial"><span style="font-size: 10pt;"><b>How to contact support</b></span><br></font><div align="left"><font color="#010101" face="Arial"><br></font></div><div align="left"><font color="#010101" face="Arial"><font color="#010101" face="Arial"><span style="font-size: 10pt;">Customersand developers trialing a product may e-mail support at <a href="mailto:support@enterprisedt.com?body=Please%20include:%0A-%20a%20detailed%20description%20of%20the%20problem%0A-%20the%20type%20of%20server%0A-%20a%20stack-trace%0A-%20the%20logger%20output">support@enterprisedt.com</a>.&nbsp;Whenemailing support with a problem, always include the following:<br><ul>  <li><font color="#010101" face="Arial">astack trace (if an exception is beingthrown)&nbsp;</font></li>  <li><font color="#010101" face="Arial">thesection of the log file that illustratesthe problem (see&nbsp;<a href="howtosetuplogging.html">Howto set up logging</a>)</font></li>  <li><font color="#010101" face="Arial">theinitial part of the log file that displays versioning information andyour classpath<br>    </font></li>  <li><font color="#010101" face="Arial">thetype of server you are accessing (include the version if possible)</font></li>  <li><font color="#010101" face="Arial">theversion of edtFTPj/PRO you are using, if that is not shown in the logfile<br>    </font></li></ul>Pleaseinclude as much information as possible; it will save us emailing youto ask for it.</span></font></font></div><div align="left"></div></div></body></html>