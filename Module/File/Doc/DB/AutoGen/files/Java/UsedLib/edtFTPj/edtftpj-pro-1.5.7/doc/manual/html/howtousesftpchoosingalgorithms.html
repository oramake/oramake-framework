<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns:mshelp="http://msdn.microsoft.com/mshelp">
<head>
  <title>How to use SFTP (choosing algorithms)</title>


  <meta name="generator" content="HelpMaker.net">

  <meta name="keywords" content="Chapter 3,">

  <link rel="stylesheet" type="text/css" href="ms-help://Hx/HxRuntime/HxLink.css">

  <link rel="stylesheet" type="text/css" href="ms-help://Hx/HxRuntime/HxLinkDefault.css">

</head>
<body style="background-color: rgb(255, 255, 255);">
    <table cellpadding="0" cellspacing="0" width="100%">
      <tr>
        <td style="background-image:url(../images/bk_tl.jpg); background-repeat: repeat-x"><img src="../images/space.gif" width=4 height=4></td>
        <td style="background-image:url(../images/bk_t.jpg); background-repeat: repeat-x"><img src="../images/space.gif" width=4 height=4></td>
        <td style="background-image:url(../images/bk_tr.jpg); background-repeat: repeat-x"><img src="../images/space.gif" width=4 height=4></td>
      </tr>
      <tr>
        <td width="4" style="background-image:url(../images/bk_l.jpg); background-repeat: repeat-y"><img src="../images/space.gif" width=4 height=4></td>
        <td width="100%" style="font-family: sans-serif; font-weight: bold; font-size: 14pt; background-image:url(../images/bk_c.jpg); background-repeat: repeat">
          &nbsp;How to use SFTP (choosing algorithms)
        </td>
        <td width="4" style="background-image:url(../images/bk_r.jpg); background-repeat: repeat-y"><img src="../images/space.gif" width=4 height=4></td>
      </tr>
      <tr>
        <td height="4" style="background-image:url(../images/bk_bl.jpg); background-repeat: repeat-x"><img src="../images/space.gif" width=4 height=4></td>
        <td style="background-image:url(../images/bk_b.jpg); background-repeat: repeat-x"><img src="../images/space.gif" width=4 height=4></td>
        <td style="background-image:url(../images/bk_br.jpg); background-repeat: repeat-x"><img src="../images/space.gif" width=4 height=4></td>
      </tr>
    </table>
<br>
<div align="left"><font color="#010101" face="Arial"><span style="font-size: 10pt;">In</span></font><font color="#010101" face="Arial"><span style="font-size: 10pt;"> </span></font><font color="#010101" face="Arial"><span style="font-size: 10pt;"></span></font><font color="#010101" face="Arial"><span style="font-size: 10pt;"></span></font><font color="#010101" face="Arial"><span style="font-size: 10pt;"><a href="../../api/com/enterprisedt/net/ftp/ssh/SSHFTPClient.html"><font color="#0000ff" face="Arial"><span style="font-size: 10pt;"><u>SSHFTPClient</u></span></font></a></span></font><font color="#010101" face="Arial"><span style="font-size: 10pt;"></span></font><font color="#010101" face="Arial"><span style="font-size: 10pt;">&nbsp;the algorithms that the
client presents to the server for negotiation
can be specified if required. The server will have its own set of
preferred algorithms
configured, and the protocol chooses one of the algorithms supported by
both client and
server.</span></font></div>

<div align="left"><br>

</div>

<div align="left"><font color="#010101" face="Arial"><span style="font-size: 10pt;">A
number of types of algorithms can be specified - the preferred public
key algorithms that control the
type of the server supplied public key (</span></font><font color="#010101" face="Arial"><span style="font-size: 10pt;">key-pair algorithms),&nbsp;the
preferred cipher
algorithms (used to encrypt data), the MAC algorithms (used to
authenticate messages) , and the key-exchange algorithms (for
establishing keys between client and server). <br>

<br>

</span></font></div>

<div align="left"><font color="#010101" face="Arial"><span style="font-size: 10pt;">The
latter two types (MAC and key-exchange) are beyond the scope of this
documentation.&nbsp;</span></font><font color="#010101" face="Arial"><span style="font-size: 10pt;"><a href="../../api/com/enterprisedt/net/ftp/ssh/SSHFTPClient.html"><font color="#0000ff" face="Arial"><span style="font-size: 10pt;"><u>SSHFTPClient</u></span></font></a></span></font><font color="#010101" face="Arial"><span style="font-size: 10pt;"></span></font><font color="#010101" face="Arial"><span style="font-size: 10pt;">&nbsp;</span></font><font color="#010101" face="Arial"><span style="font-size: 10pt;"></span></font><font color="#010101" face="Arial"><span style="font-size: 10pt;">is already configured with all its
available algorithms. The
main reason for modifying them is to restrict the algorithms being used.<br>

<br>

The <a href="../../api/com/enterprisedt/net/ftp/ssh/SSHFTPAlgorithm.html">SSHFTPAlgorithm</a>
class defines the types of algorithms and lists the currently supported
algorithms in edtFTPj/PRO. Various methods on </span></font><font color="#010101" face="Arial"><span style="font-size: 10pt;"><a href="../../api/com/enterprisedt/net/ftp/ssh/SSHFTPClient.html"><font color="#0000ff" face="Arial"><span style="font-size: 10pt;"><u>SSHFTPClient</u></span></font></a>
list and control which algorithms are available. <br>

<br>

To list all available algorithms of all types, use <a href="../../api/com/enterprisedt/net/ftp/ssh/SSHFTPClient.html#getEnabledAlgorithms%28%29">getEnabledAlgorithms</a>.
To disable all algorithms of all types, use <a href="../../api/com/enterprisedt/net/ftp/ssh/SSHFTPClient.html#disableAllAlgorithms%28%29">disableAllAlgorithms</a>.
</span></font></div>

<div align="left"><br>

</div>

<div align="left"><font color="#010101" face="Arial"><span style="font-size: 10pt;"><b>Public
key algorithms</b></span></font></div>

<div align="left"><br>

</div>

<div align="left"><font color="#010101" face="Arial"><span style="font-size: 10pt;">Either
DSA or RSA or both can be set for the preferred public key algorithms
for server
authentication. If, for example, RSA is set, the server will present an
RSA public key to the
client (if the server supports RSA keys of course - some servers do
not).&nbsp;The code below
illustrates how to set RSA only. It first disables all keypair
algorithms, then enables RSA:</span></font></div>

<div align="left"><br>
</div>

<div style="margin-left: 13mm; margin-right: 0mm; text-indent: 0mm;" align="left"><font color="#010101" face="Lucida Console" size="1"><span style="font-size: 8pt;">ftp.<a href="../../api/com/enterprisedt/net/ftp/ssh/SSHFTPClient.html#disableAllAlgorithms%28int%29">disableAllAlgorithms</a>(SSHFTPAlgorithm.KEY_PAIR)</span></font><font face="Lucida Console" size="1"><span style="font-size: 8pt;">; </span></font></div>

<div style="margin-left: 13mm; margin-right: 0mm; text-indent: 0mm;" align="left"><font color="#010101" face="Lucida Console" size="1"><span style="font-size: 8pt;">ftp.<a href="../../api/com/enterprisedt/net/ftp/ssh/SSHFTPClient.html#setAlgorithmEnabled%28com.enterprisedt.net.ftp.ssh.SSHFTPAlgorithm,%20boolean%29">setAlgorithmEnabled</a>(SSHFTPAlgorithm.KEY_RSA,
true)</span></font><font face="Lucida Console" size="1"><span style="font-size: 8pt;">; </span></font></div>

<div align="left"><br>

</div>

<div align="left"><font color="#010101" face="Arial"><span style="font-size: 10pt;">The
default is both DSA and RSA enabled.</span></font></div>

<div align="left"><br>

</div>

<div align="left"><font color="#010101" face="Arial"><span style="font-size: 10pt;"><b>Cipher
algorithms</b></span></font></div>

<div align="left"><br>

</div>

<div align="left"><font color="#010101" face="Arial"><span style="font-size: 10pt;">The
cipher algorithms are the symmetric algorithms used to perform the
encryption of the
SFTP data and commands. The code below illustrates how to set triple
DES
as the cipher
algorithm (disabling all others):</span></font></div>

<div align="left"><br>
</div>

<div style="margin-left: 13mm; margin-right: 0mm; text-indent: 0mm;" align="left"><font color="#010101" face="Lucida Console" size="1"><span style="font-size: 8pt;">ftp.<a href="../../api/com/enterprisedt/net/ftp/ssh/SSHFTPClient.html#disableAllAlgorithms%28int%29">disableAllAlgorithms</a>(SSHFTPAlgorithm.CIPHER)</span></font><font color="#010101" face="Lucida Console" size="1"><span style="font-size: 8pt;">; </span></font></div>

<div style="margin-left: 13mm; margin-right: 0mm; text-indent: 0mm;" align="left"><font color="#010101" face="Lucida Console" size="1"><span style="font-size: 8pt;">ftp<a href="../../api/com/enterprisedt/net/ftp/ssh/SSHFTPClient.html#setAlgorithmEnabled%28com.enterprisedt.net.ftp.ssh.SSHFTPAlgorithm,%20boolean%29">.</a></span></font><a href="../../api/com/enterprisedt/net/ftp/ssh/SSHFTPClient.html#setAlgorithmEnabled%28com.enterprisedt.net.ftp.ssh.SSHFTPAlgorithm,%20boolean%29"><font color="#010101" face="Lucida Console" size="1"><span style="font-size: 8pt;">setAlgorithmEnabled</span></font></a><font color="#010101" face="Lucida Console" size="1"><span style="font-size: 8pt;"><a href="../../api/com/enterprisedt/net/ftp/ssh/SSHFTPClient.html#setAlgorithmEnabled%28com.enterprisedt.net.ftp.ssh.SSHFTPAlgorithm,%20boolean%29">(</a>SSHFTPAlgorithm.CIPHER_3DES_CBC,
true)</span></font><font color="#010101" face="Lucida Console" size="1"><span style="font-size: 8pt;">; </span></font></div>

<div align="left"><br>

</div>

<div align="left"><font color="#010101" face="Arial"><span style="font-size: 10pt;">The
default is all cipher algorithms enabled.<br>

<br>

</span></font></div>

<div align="left"><br>

</div>

<div align="left"><br>

</div>

<div align="left"></div>

</body>
</html>
