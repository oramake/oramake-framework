<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">

<html><head><meta http-equiv="Content-Type" content="text/html; charset=Windows-1251"><title>Версии - TaskProcessor</title><link rel="stylesheet" type="text/css" href="../../styles/main.css"><script language=JavaScript src="../../javascript/main.js"></script><script language=JavaScript src="../../javascript/searchdata.js"></script></head><body class="ContentPage" onLoad="NDOnLoad();"><script language=JavaScript><!--
if (browserType) {document.write("<div class=" + browserType + ">");if (browserVer) {document.write("<div class=" + browserVer + ">"); }}// --></script>

<!--  Generated by Natural Docs, version 1.5 -->
<!--  http://www.naturaldocs.org  -->

<!-- saved from url=(0026)http://www.naturaldocs.org -->




<div id=Content><div class="CSection"><div class=CTopic id=MainTopic><h1 class=CTitle><a name="Версии"></a>Версии</h1><div class=CBody><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SMain"><td class=SEntry><a href="#Версии" >Версии</a></td><td class=SDescription></td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Версии.2.4.0(2019-07-09)" >2.<wbr>4.0 ( 2019-07-09)</a></td><td class=SDescription>[*] Для логирования выполнения заданий стал использоваться модуль Logging (вместо собственной таблицы tp_task_log). </td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Версии.2.3.2(2018-05-31)" >2.<wbr>3.2 ( 2018-05-31)</a></td><td class=SDescription>(<a href="install-txt.html#Установка.2.3.2" class=LGroup id=link1 onMouseOver="ShowTip(event, 'tt1', 'link1')" onMouseOut="HideTip('tt1')">Установка::2.3.2</a>)</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Версии.2.3.1.2(2018-02-16)" >2.<wbr>3.1.<wbr>2 ( 2018-02-16)</a></td><td class=SDescription>(<a href="install-txt.html#Установка.2.3.1.2" class=LGroup id=link2 onMouseOver="ShowTip(event, 'tt2', 'link2')" onMouseOut="HideTip('tt2')">Установка::2.3.1.2</a>)</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Версии.2.3.1.1(2018-02-12)" >2.<wbr>3.1.<wbr>1 ( 2018-02-12)</a></td><td class=SDescription>[!]&nbsp; Настроен перезапуск пакетным заданием RestartTaskProcessing обработчиков, добавленных в версии 2.3.1.</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Версии.2.3.1(2017-12-12)" >2.<wbr>3.1 ( 2017-12-12)</a></td><td class=SDescription>(<a href="install-txt.html#Установка.2.3.1" class=LGroup id=link3 onMouseOver="ShowTip(event, 'tt3', 'link3')" onMouseOut="HideTip('tt3')">Установка::2.3.1</a>)</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Версии.2.3.0.2(2016-07-28)" >2.<wbr>3.0.<wbr>2 ( 2016-07-28)</a></td><td class=SDescription>[*] При выдаче прав на представления вместе с select стало выдаваться право merge view для предотвращения возможной проблемы с открытием большого числа дочерних курсоров по причине AUTH_CHECK_MISMATCH, INSUFF_PRIVS из-за бага Oracle ( BUG 12660900, BUG 11930680).</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Версии.2.3.0.1(2016-05-05)" >2.<wbr>3.0.<wbr>1 ( 2016-05-05)</a></td><td class=SDescription>[*] Использование представления v_op_role модуля AccessOperator вместо таблицы op_role. </td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Версии.2.3.0(2015-12-08)" >2.<wbr>3.0 ( 2015-12-08)</a></td><td class=SDescription>[+] Добавлена возможность ограничения числа одновременно выполняемых заданий одного типа от одного оператора ( задается параметром модуля).</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Версии.2.2.4(2014-08-11)" >2.<wbr>2.4 ( 2014-08-11)</a></td><td class=SDescription>[+] Добавлен параметр operatorId функции <a href="../pkg_TaskProcessor-pks.html#pkg_TaskProcessor.getTaskType" class=LFunctionpublic id=link4 onMouseOver="ShowTip(event, 'tt4', 'link4')" onMouseOut="HideTip('tt4')">pkg_TaskProcessor.getTaskType</a> для исключения из списка типов задач, недоступных указанному оператору.</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Версии.2.2.3(2013-12-18)" >2.<wbr>2.3 ( 2013-12-18)</a></td><td class=SDescription>[+] При выдаче прав на использование модуля стали выдаваться дополнительные права ( references на таблицы tp_task и tp_task_type).</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Версии.2.2.2(2013-01-10)" >2.<wbr>2.2 ( 2013-01-10)</a></td><td class=SDescription>[+] В курсор, возвращаемый интерфейсной функцией <a href="../pkg_TaskProcessor-pks.html#pkg_TaskProcessor.findFile" class=LFunctionpublic id=link5 onMouseOver="ShowTip(event, 'tt5', 'link5')" onMouseOut="HideTip('tt5')">pkg_TaskProcessor.findFile</a>, добавлено поле extension с расширением файла, выделяемым из имени файла ( для удобства использования в App-части).</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Версии.2.2.0(2012-07-30)" >2.<wbr>2.0 ( 2012-07-30)</a></td><td class=SDescription>[+] Добавлена возможность использовать в качестве параметра задания текстовый файл, загружаемый через интерфейс.</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Версии.2.1.2(2011-01-24)" >2.<wbr>1.2 ( 2011-01-24)</a></td><td class=SDescription>[*] Добавлена возможность автоматического завершения обработчика заданий после выполнения ( с любым результатом) одного задания либо нескольких идущих подряд заданий одного типа для реализации обходного решения по проблеме фиктивных блокировок на прикладные объекты в сессиях обработчиков ( см. </td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Версии.2.1.1(2010-05-14)" >2.<wbr>1.1 ( 2010-05-14)</a></td><td class=SDescription>[*] Стало сохраняться более полное сообщение об ошибке, возникшей при работе задания, в случае использования внутри задания модуля Logging.</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Версии.2.1.0" >2.1.0</a></td><td class=SDescription>[*] Уточнена документация и скрипты установки модуля.</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Версии.2.0.1" >2.0.1</a></td><td class=SDescription>Доработана функция TaskHandler пакета pkg_TaskProcessorHandler: при возникновении ошибки при выполнении задания в результате того, что состояние объектов было re-initialized (ошибки ORA: 4060 - 4067),  тоустанавливаем статус задачи Q,дату следующего запуска nextStartDate как SYSDATE и выдаем ошибку для перезапуска TaskProcessor-a на уровне Schedule-рa. </td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Версии.2.4.0(2019-07-09)"></a>2.<wbr>4.0 ( 2019-07-09)</h3><div class=CBody><p>[*] Для логирования выполнения заданий стал использоваться модуль Logging (вместо собственной таблицы tp_task_log).&nbsp; Функции log% пакета <a href="../pkg_TaskProcessor-pks.html#pkg_TaskProcessor" class=LPackage id=link6 onMouseOver="ShowTip(event, 'tt6', 'link6')" onMouseOut="HideTip('tt6')">pkg_TaskProcessor</a> объявлены устаревшими, вместо них следует использовать функции логирования сообщений из типа lg_logger_t (модуль Logging), при этом для указания строки обрабатываемого файла следует использовать контекст выполнения <a href="../pkg_TaskProcessor-pks.html#pkg_TaskProcessor.Line_CtxTpName" class=LConstant id=link7 onMouseOver="ShowTip(event, 'tt7', 'link7')" onMouseOut="HideTip('tt7')">pkg_TaskProcessor.Line_CtxTpName</a>.&nbsp; Для просмотра логов заданий можно также использовать представление <a href="../Install/Schema/Last/v_tp_task_operation-vw.html#v_tp_task_operation" class=LDatabaseView id=link8 onMouseOver="ShowTip(event, 'tt8', 'link8')" onMouseOut="HideTip('tt8')">v_tp_task_operation</a> и скрипт DB/Show/branch.sql модуля Logging (указывая при его вызове значение start_log_id из представления).</p><p>(<a href="install-txt.html#Установка.2.4.0" class=LGroup id=link9 onMouseOver="ShowTip(event, 'tt9', 'link9')" onMouseOut="HideTip('tt9')">Установка::2.4.0</a>)</p></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Версии.2.3.2(2018-05-31)"></a>2.<wbr>3.2 ( 2018-05-31)</h3><div class=CBody><p>(<a href="install-txt.html#Установка.2.3.2" class=LGroup id=link10 onMouseOver="ShowTip(event, 'tt1', 'link10')" onMouseOut="HideTip('tt1')">Установка::2.3.2</a>)</p><p>[*] Use constant DATE &lsquo;0001-01-01&rsquo; instead of DATE &lsquo;0000-01-01&rsquo; for Oracle 12.2.0.1 compatibility.</p></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Версии.2.3.1.2(2018-02-16)"></a>2.<wbr>3.1.<wbr>2 ( 2018-02-16)</h3><div class=CBody><p>(<a href="install-txt.html#Установка.2.3.1.2" class=LGroup id=link11 onMouseOver="ShowTip(event, 'tt2', 'link11')" onMouseOut="HideTip('tt2')">Установка::2.3.1.2</a>)</p><p>[!]&nbsp; Исправление пакетного задания RestartTaskProcessing, убраны переводы кареток перед и после опции BatchList, так как первый и последний батч не перезапускались</p></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Версии.2.3.1.1(2018-02-12)"></a>2.<wbr>3.1.<wbr>1 ( 2018-02-12)</h3><div class=CBody><p>[!]&nbsp; Настроен перезапуск пакетным заданием RestartTaskProcessing обработчиков, добавленных в версии 2.3.1.</p></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Версии.2.3.1(2017-12-12)"></a>2.<wbr>3.1 ( 2017-12-12)</h3><div class=CBody><p>(<a href="install-txt.html#Установка.2.3.1" class=LGroup id=link12 onMouseOver="ShowTip(event, 'tt3', 'link12')" onMouseOut="HideTip('tt3')">Установка::2.3.1</a>)</p><p>[+] Добавлены настройки пакетных заданий обработчиков для назначения определенных батчей под определенные типы задач ( параметризация)</p><p>[+] Количество обработчиков увеличено до 15</p><p>[+] Добавлена проверка на корректность выполняемого кода в добавляемом типе задач в таблицу <a href="../Install/Schema/Last/tp_task_type-tab.html#tp_task_type" class=LDatabaseTable id=link13 onMouseOver="ShowTip(event, 'tt10', 'link13')" onMouseOut="HideTip('tt10')">tp_task_type</a></p><p>[+] Вынесена во внешний интерфейс функция <a href="../Test/pkg_TaskProcessorTest-pks.html#pkg_TaskProcessorTest.waitForTask" class=LFunctionpublic id=link14 onMouseOver="ShowTip(event, 'tt11', 'link14')" onMouseOut="HideTip('tt11')">pkg_TaskProcessorTest::waitForTask</a>, которая ожидает окончания выполнения задания.&nbsp; Может использоваться в прикладных модулях при тестировании</p><p>[*] Приведение к единой версии</p></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Версии.2.3.0.2(2016-07-28)"></a>2.<wbr>3.0.<wbr>2 ( 2016-07-28)</h3><div class=CBody><p>[*] При выдаче прав на представления вместе с select стало выдаваться право merge view для предотвращения возможной проблемы с открытием большого числа дочерних курсоров по причине AUTH_CHECK_MISMATCH, INSUFF_PRIVS из-за бага Oracle ( BUG 12660900, BUG 11930680).</p><p>[*] Добавлена выдача прав на пакет с константами <a href="../pkg_TaskProcessorBase-pks.html#pkg_TaskProcessorBase" class=LPackage id=link15 onMouseOver="ShowTip(event, 'tt12', 'link15')" onMouseOut="HideTip('tt12')">pkg_TaskProcessorBase</a>.</p></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Версии.2.3.0.1(2016-05-05)"></a>2.<wbr>3.0.<wbr>1 ( 2016-05-05)</h3><div class=CBody><p>[*] Использование представления v_op_role модуля AccessOperator вместо таблицы op_role.&nbsp; Использование поля operator_name вместо operator_name_rus таблицы op_operator.</p></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Версии.2.3.0(2015-12-08)"></a>2.<wbr>3.0 ( 2015-12-08)</h3><div class=CBody><p>[+] Добавлена возможность ограничения числа одновременно выполняемых заданий одного типа от одного оператора ( задается параметром модуля).</p><p>[*] Изменен порядок выбора задания для выполнения: задания выбираются в порядке сортировки</p><ul><li>по числу выполняемых заданий от данного оператора;</li><li>по числу выполняемых заданий данного типа;</li><li>по дате постановки на выполнение;</li></ul><p>( ранее только по дате постановки на выполнение)</p><p>[*] Исключена зависимость пакета <a href="../pkg_TaskProcessorHandler-pks.html#pkg_TaskProcessorHandler" class=LPackage id=link16 onMouseOver="ShowTip(event, 'tt13', 'link16')" onMouseOut="HideTip('tt13')">pkg_TaskProcessorHandler</a> от интерфейсного пакета <a href="../pkg_TaskProcessor-pks.html#pkg_TaskProcessor" class=LPackage id=link17 onMouseOver="ShowTip(event, 'tt6', 'link17')" onMouseOut="HideTip('tt6')">pkg_TaskProcessor</a>.</p></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Версии.2.2.4(2014-08-11)"></a>2.<wbr>2.4 ( 2014-08-11)</h3><div class=CBody><p>[+] Добавлен параметр operatorId функции <a href="../pkg_TaskProcessor-pks.html#pkg_TaskProcessor.getTaskType" class=LFunctionpublic id=link18 onMouseOver="ShowTip(event, 'tt4', 'link18')" onMouseOut="HideTip('tt4')">pkg_TaskProcessor.getTaskType</a> для исключения из списка типов задач, недоступных указанному оператору.</p><p>[*] В списке типов задач, возращаемом функцией <a href="../pkg_TaskProcessor-pks.html#pkg_TaskProcessor.getTaskType" class=LFunctionpublic id=link19 onMouseOver="ShowTip(event, 'tt4', 'link19')" onMouseOut="HideTip('tt4')">pkg_TaskProcessor.getTaskType</a>, стала применяться сортировка по названию ( по task_type_name, ранее по task_type_id).</p><p>[*] Установка пакетных заданий модуля стала выполняться при установке модуля ( при этом во всех БД создается 5 пакетных заданий обработчиков задач).</p></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Версии.2.2.3(2013-12-18)"></a>2.<wbr>2.3 ( 2013-12-18)</h3><div class=CBody><p>[+] При выдаче прав на использование модуля стали выдаваться дополнительные права ( references на таблицы tp_task и tp_task_type).</p></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Версии.2.2.2(2013-01-10)"></a>2.<wbr>2.2 ( 2013-01-10)</h3><div class=CBody><p>[+] В курсор, возвращаемый интерфейсной функцией <a href="../pkg_TaskProcessor-pks.html#pkg_TaskProcessor.findFile" class=LFunctionpublic id=link20 onMouseOver="ShowTip(event, 'tt5', 'link20')" onMouseOut="HideTip('tt5')">pkg_TaskProcessor.findFile</a>, добавлено поле extension с расширением файла, выделяемым из имени файла ( для удобства использования в App-части).</p><p>[+] Добавлена интерфейсная функция <a href="../pkg_TaskProcessor-pks.html#pkg_TaskProcessor.getResult" class=LFunctionpublic id=link21 onMouseOver="ShowTip(event, 'tt14', 'link21')" onMouseOut="HideTip('tt14')">pkg_TaskProcessor.getResult</a>, возвращающая возможные результаты выполнения заданий.</p><p>[+] Добавлена функция <a href="../pkg_TaskProcessor-pks.html#pkg_TaskProcessor.getTaskTypeId" class=LFunctionpublic id=link22 onMouseOver="ShowTip(event, 'tt15', 'link22')" onMouseOut="HideTip('tt15')">pkg_TaskProcessor.getTaskTypeId</a>, возвращающая Id типа задания для указанного процесса ( для использования в прикладных модулях).</p><p>[+] Добавлен скрипт по выдаче прав на использование модуля ( <a href="../Install/Grant/Last/run-sql.html#Install/Grant/Last/run.sql" class=LFile id=link23 onMouseOver="ShowTip(event, 'tt16', 'link23')" onMouseOut="HideTip('tt16')">Install/Grant/Last/run.sql</a>);</p></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Версии.2.2.0(2012-07-30)"></a>2.<wbr>2.0 ( 2012-07-30)</h3><div class=CBody><p>[+] Добавлена возможность использовать в качестве параметра задания текстовый файл, загружаемый через интерфейс.</p><p>[+] Добавлена возможность логирования выполнения текущего задания ( лог сохраняется в таблице <a href="../Install/Schema/Last/tp_task_log-tab.html#tp_task_log" class=LDatabaseTable id=link24 onMouseOver="ShowTip(event, 'tt17', 'link24')" onMouseOut="HideTip('tt17')">tp_task_log</a>), при этом также возможно построчное логирование обработки данных файла ( см.&nbsp; <a href="../pkg_TaskProcessor-pks.html#pkg_TaskProcessor.logMessage" class=LFunctionpublic id=link25 onMouseOver="ShowTip(event, 'tt18', 'link25')" onMouseOut="HideTip('tt18')">pkg_TaskProcessor.logMessage</a>, а также обертки к ней logError, logWarning и т.д.).</p></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Версии.2.1.2(2011-01-24)"></a>2.<wbr>1.2 ( 2011-01-24)</h3><div class=CBody><p>[*] Добавлена возможность автоматического завершения обработчика заданий после выполнения ( с любым результатом) одного задания либо нескольких идущих подряд заданий одного типа для реализации обходного решения по проблеме фиктивных блокировок на прикладные объекты в сессиях обработчиков ( см.&nbsp; <a href="bugs-txt.html#Ошибки" class=LSection id=link26 onMouseOver="ShowTip(event, 'tt19', 'link26')" onMouseOut="HideTip('tt19')">Ошибки</a>).</p><p>[*] На время выполнения задания в качестве текущего оператора в модуле AccessOperator стал устанавливать оператор, поставивший задание на выполнение ( manage_operator_id из таблицы <a href="../Install/Schema/Last/tp_task-tab.html#tp_task" class=LDatabaseTable id=link27 onMouseOver="ShowTip(event, 'tt20', 'link27')" onMouseOut="HideTip('tt20')">tp_task</a>).</p></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Версии.2.1.1(2010-05-14)"></a>2.<wbr>1.1 ( 2010-05-14)</h3><div class=CBody><p>[*] Стало сохраняться более полное сообщение об ошибке, возникшей при работе задания, в случае использования внутри задания модуля Logging.</p></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Версии.2.1.0"></a>2.1.0</h3><div class=CBody><p>[*] Уточнена документация и скрипты установки модуля.</p></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Версии.2.0.1"></a>2.0.1</h3><div class=CBody><p>Доработана функция TaskHandler пакета pkg_TaskProcessorHandler: при возникновении ошибки при выполнении задания в результате того, что состояние объектов было re-initialized (ошибки ORA: 4060 - 4067),  тоустанавливаем статус задачи Q,дату следующего запуска nextStartDate как SYSDATE и выдаем ошибку для перезапуска TaskProcessor-a на уровне Schedule-рa.&nbsp; После перезапуска TaskProcessor-a (1 минута) задача со статусом Q и с &ldquo;пропущенным&rdquo; nextStartDate подхватится на повторное выполнение.</p></div></div></div>

</div><!--Content-->


<div id=Footer><a href="http://www.naturaldocs.org">Generated by Natural Docs</a></div><!--Footer-->


<div id=Menu><div class=MTitle>TaskProcessor<div class=MSubTitle>Версия 2.4.0</div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent1')">О модуле</a><div class=MGroupContent id=MGroupContent1><div class=MEntry><div class=MFile><a href="readme-txt.html">Описание</a></div></div><div class=MEntry><div class=MFile><a href="install-txt.html">Установка</a></div></div><div class=MEntry><div class=MFile><a href="bugs-txt.html">Ошибки</a></div></div><div class=MEntry><div class=MFile><a href="todo-txt.html">Доработки</a></div></div><div class=MEntry><div class=MFile><a href="../Makefile-.html">Сборка</a></div></div><div class=MEntry><div class=MFile id=MSelected>Версии</div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent8')">Пакеты</a><div class=MGroupContent id=MGroupContent8><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent2')">pkg_TaskProcessor</a><div class=MGroupContent id=MGroupContent2><div class=MEntry><div class=MFile><a href="../pkg_TaskProcessor-pks.html">Спецификация</a></div></div><div class=MEntry><div class=MFile><a href="../pkg_TaskProcessor-pkb.html">Реализация</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent3')">pkg_TaskProcessorBase</a><div class=MGroupContent id=MGroupContent3><div class=MEntry><div class=MFile><a href="../pkg_TaskProcessorBase-pks.html">Спецификация</a></div></div><div class=MEntry><div class=MFile><a href="../pkg_TaskProcessorBase-pkb.html">Реализация</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent4')">pkg_TaskProcessorHandler</a><div class=MGroupContent id=MGroupContent4><div class=MEntry><div class=MFile><a href="../pkg_TaskProcessorHandler-pks.html">Спецификация</a></div></div><div class=MEntry><div class=MFile><a href="../pkg_TaskProcessorHandler-pkb.html">Реализация</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent5')">pkg_TaskProcessorUtility</a><div class=MGroupContent id=MGroupContent5><div class=MEntry><div class=MFile><a href="../pkg_TaskProcessorUtility-pks.html">Спецификация</a></div></div><div class=MEntry><div class=MFile><a href="../pkg_TaskProcessorUtility-pkb.html">Реализация</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent7')">Test</a><div class=MGroupContent id=MGroupContent7><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent6')">pkg_TaskProcessorTest</a><div class=MGroupContent id=MGroupContent6><div class=MEntry><div class=MFile><a href="../Test/pkg_TaskProcessorTest-pks.html">Спецификация</a></div></div><div class=MEntry><div class=MFile><a href="../Test/pkg_TaskProcessorTest-pkb.html">Реализация</a></div></div></div></div></div></div></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent18')">Скрипты</a><div class=MGroupContent id=MGroupContent18><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent16')">Install</a><div class=MGroupContent id=MGroupContent16><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent9')">Config</a><div class=MGroupContent id=MGroupContent9><div class=MEntry><div class=MFile><a href="../Install/Config/after-action-sql.html">after-action</a></div></div><div class=MEntry><div class=MFile><a href="../Install/Config/before-action-sql.html">before-action</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent12')">Grant</a><div class=MGroupContent id=MGroupContent12><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent10')">Last</a><div class=MGroupContent id=MGroupContent10><div class=MEntry><div class=MFile><a href="../Install/Grant/Last/run-sql.html">run</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent11')">2.3.0.2</a><div class=MGroupContent id=MGroupContent11><div class=MEntry><div class=MFile><a href="../Install/Grant/2-3-0-2/run-sql.html">run</a></div></div></div></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent15')">Schema</a><div class=MGroupContent id=MGroupContent15><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent13')">Last</a><div class=MGroupContent id=MGroupContent13><div class=MEntry><div class=MFile><a href="../Install/Schema/Last/run-sql.html">run</a></div></div><div class=MEntry><div class=MFile><a href="../Install/Schema/Last/revert-sql.html">revert</a></div></div><div class=MEntry><div class=MFile><a href="../Install/Schema/Last/tp_file-tab.html">tp_file</a></div></div><div class=MEntry><div class=MFile><a href="../Install/Schema/Last/tp_file_bi_define-trg.html">tp_file_bi_define</a></div></div><div class=MEntry><div class=MFile><a href="../Install/Schema/Last/tp_file_status-tab.html">tp_file_status</a></div></div><div class=MEntry><div class=MFile><a href="../Install/Schema/Last/tp_file_status_bi_define-trg.html">tp_file_status_bi_define</a></div></div><div class=MEntry><div class=MFile><a href="../Install/Schema/Last/tp_result-tab.html">tp_result</a></div></div><div class=MEntry><div class=MFile><a href="../Install/Schema/Last/tp_result_bi_define-trg.html">tp_result_bi_define</a></div></div><div class=MEntry><div class=MFile><a href="../Install/Schema/Last/tp_task-tab.html">tp_task</a></div></div><div class=MEntry><div class=MFile><a href="../Install/Schema/Last/tp_task_bi_define-trg.html">tp_task_bi_define</a></div></div><div class=MEntry><div class=MFile><a href="../Install/Schema/Last/tp_task_log-tab.html">tp_task_log</a></div></div><div class=MEntry><div class=MFile><a href="../Install/Schema/Last/tp_task_log_bi_define-trg.html">tp_task_log_bi_define</a></div></div><div class=MEntry><div class=MFile><a href="../Install/Schema/Last/tp_task_log_seq-sqs.html">tp_task_log_seq</a></div></div><div class=MEntry><div class=MFile><a href="../Install/Schema/Last/tp_task_seq-sqs.html">tp_task_seq</a></div></div><div class=MEntry><div class=MFile><a href="../Install/Schema/Last/tp_task_status-tab.html">tp_task_status</a></div></div><div class=MEntry><div class=MFile><a href="../Install/Schema/Last/tp_task_status_bi_define-trg.html">tp_task_status_bi_define</a></div></div><div class=MEntry><div class=MFile><a href="../Install/Schema/Last/tp_task_type-tab.html">tp_task_type</a></div></div><div class=MEntry><div class=MFile><a href="../Install/Schema/Last/tp_task_type_bi_define-trg.html">tp_task_type_bi_define</a></div></div><div class=MEntry><div class=MFile><a href="../Install/Schema/Last/tp_task_type_seq-sqs.html">tp_task_type_seq</a></div></div><div class=MEntry><div class=MFile><a href="../Install/Schema/Last/v_tp_active_task-vw.html">v_tp_active_task</a></div></div><div class=MEntry><div class=MFile><a href="../Install/Schema/Last/v_tp_task-vw.html">v_tp_task</a></div></div><div class=MEntry><div class=MFile><a href="../Install/Schema/Last/v_tp_task_operation-vw.html">v_tp_task_operation</a></div></div><div class=MEntry><div class=MFile><a href="../Install/Schema/Last/v_tp_task_type-vw.html">v_tp_task_type</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent14')">2.4.0</a><div class=MGroupContent id=MGroupContent14><div class=MEntry><div class=MFile><a href="../Install/Schema/2-4-0/run-sql.html">run</a></div></div></div></div></div></div></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent17')">Test</a><div class=MGroupContent id=MGroupContent17><div class=MEntry><div class=MFile><a href="../Test/run-sql.html">run</a></div></div></div></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent22')">Индекс</a><div class=MGroupContent id=MGroupContent22><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent19')">Объекты БД</a><div class=MGroupContent id=MGroupContent19><div class=MEntry><div class=MIndex><a href="../../index/DatabaseViews.html">Представления</a></div></div><div class=MEntry><div class=MIndex><a href="../../index/DatabaseTables.html">Таблицы</a></div></div><div class=MEntry><div class=MIndex><a href="../../index/DatabaseTriggers.html">Триггеры</a></div></div><div class=MEntry><div class=MIndex><a href="../../index/DatabaseIndexes.html">Индексы</a></div></div><div class=MEntry><div class=MIndex><a href="../../index/DatabaseSequences.html">Последовательности</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent20')">Открытые объявления</a><div class=MGroupContent id=MGroupContent20><div class=MEntry><div class=MIndex><a href="../../index/Constants.html">Константы</a></div></div><div class=MEntry><div class=MIndex><a href="../../index/Functionspublic.html">Функции</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent21')">Закрытые объявления</a><div class=MGroupContent id=MGroupContent21><div class=MEntry><div class=MIndex><a href="../../index/Constantsinternal.html">Константы</a></div></div><div class=MEntry><div class=MIndex><a href="../../index/Variablesinternal.html">Переменные</a></div></div></div></div></div><div class=MEntry><div class=MIndex><a href="../../index/Functions.html">Функции</a></div></div><div class=MEntry><div class=MIndex><a href="../../index/Files.html">Скрипты</a></div></div><div class=MEntry><div class=MIndex><a href="../../index/General.html">Все вместе</a></div></div></div></div></div><script type="text/javascript"><!--
var searchPanel = new SearchPanel("searchPanel", "HTML", "../../search");
--></script><div id=MSearchPanel class=MSearchPanelInactive><input type=text id=MSearchField value=Search onFocus="searchPanel.OnSearchFieldFocus(true)" onBlur="searchPanel.OnSearchFieldFocus(false)" onKeyUp="searchPanel.OnSearchFieldChange()"><select id=MSearchType onFocus="searchPanel.OnSearchTypeFocus(true)" onBlur="searchPanel.OnSearchTypeFocus(false)" onChange="searchPanel.OnSearchTypeChange()"><option  id=MSearchEverything selected value="General">Everything</option><option value="Constants">Constants</option><option value="Constantsinternal">Constants internal</option><option value="DatabaseIndexes">Database Indexes</option><option value="DatabaseSequences">Database Sequences</option><option value="DatabaseTables">Database Tables</option><option value="DatabaseTriggers">Database Triggers</option><option value="DatabaseViews">Database Views</option><option value="Files">Files</option><option value="Functions">Functions</option><option value="Functionspublic">Functions public</option><option value="Variablesinternal">Variables internal</option></select></div><script language=JavaScript><!--
HideAllBut([1, 8, 18], 23);// --></script></div><!--Menu-->



<!--START_ND_TOOLTIPS-->
<div class=CToolTip id="tt1"><div class=CGroup>(Версии::2.3.2 ( 2018-05-31))</div></div><div class=CToolTip id="tt2"><div class=CGroup>(Версии::2.3.1.2 ( 2018-02-16))</div></div><div class=CToolTip id="tt3"><div class=CGroup>(Версии::2.3.1 ( 2017-12-12))</div></div><div class=CToolTip id="tt4"><div class=CFunctionpublic><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>function getTaskType(</td><td class=PTypePrefix nowrap>moduleName&nbsp;</td><td class=PType nowrap>varchar2&nbsp;</td><td class=PParameter nowrap>,</td><td class=PDefaultValuePrefix>&nbsp;&nbsp;</td><td class=PDefaultValue width=100%></td></tr><tr><td></td><td class=PTypePrefix nowrap>operatorId&nbsp;</td><td class=PType nowrap>integer&nbsp;</td><td class=PParameter nowrap>:</td><td class=PDefaultValuePrefix>&nbsp;=&nbsp;</td><td class=PDefaultValue width=100%> null</td><td class=PAfterParameters nowrap>) return sys_refcursor</td></tr></table></td></tr></table></blockquote>Выводит список типов задач для указанного модуля.</div></div><div class=CToolTip id="tt5"><div class=CFunctionpublic><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>function findFile(</td><td class=PTypePrefix nowrap>moduleName&nbsp;</td><td class=PType nowrap>varchar2&nbsp;</td><td class=PParameter nowrap>:</td><td class=PDefaultValuePrefix>&nbsp;=&nbsp;</td><td class=PDefaultValue width=100%> null ,</td></tr><tr><td></td><td class=PTypePrefix nowrap>processName&nbsp;</td><td class=PType nowrap>varchar2&nbsp;</td><td class=PParameter nowrap>:</td><td class=PDefaultValuePrefix>&nbsp;=&nbsp;</td><td class=PDefaultValue width=100%> null ,</td></tr><tr><td></td><td class=PTypePrefix nowrap>taskId&nbsp;</td><td class=PType nowrap>integer&nbsp;</td><td class=PParameter nowrap>:</td><td class=PDefaultValuePrefix>&nbsp;=&nbsp;</td><td class=PDefaultValue width=100%> null ,</td></tr><tr><td></td><td class=PTypePrefix nowrap>fileName&nbsp;</td><td class=PType nowrap>varchar2&nbsp;</td><td class=PParameter nowrap>:</td><td class=PDefaultValuePrefix>&nbsp;=&nbsp;</td><td class=PDefaultValue width=100%> null ,</td></tr><tr><td></td><td class=PTypePrefix nowrap>fromDate&nbsp;</td><td class=PType nowrap>date&nbsp;</td><td class=PParameter nowrap>:</td><td class=PDefaultValuePrefix>&nbsp;=&nbsp;</td><td class=PDefaultValue width=100%> null ,</td></tr><tr><td></td><td class=PTypePrefix nowrap>toDate&nbsp;</td><td class=PType nowrap>date&nbsp;</td><td class=PParameter nowrap>:</td><td class=PDefaultValuePrefix>&nbsp;=&nbsp;</td><td class=PDefaultValue width=100%> null ,</td></tr><tr><td></td><td class=PTypePrefix nowrap>maxRowCount&nbsp;</td><td class=PType nowrap>integer&nbsp;</td><td class=PParameter nowrap>:</td><td class=PDefaultValuePrefix>&nbsp;=&nbsp;</td><td class=PDefaultValue width=100%> null ,</td></tr><tr><td></td><td class=PTypePrefix nowrap>operatorId&nbsp;</td><td class=PType nowrap>integer&nbsp;</td><td class=PParameter nowrap>:</td><td class=PDefaultValuePrefix>&nbsp;=&nbsp;</td><td class=PDefaultValue width=100%> null</td><td class=PAfterParameters nowrap>) return sys_refcursor</td></tr></table></td></tr></table></blockquote>Поиск обработки файлов.</div></div><div class=CToolTip id="tt6"><div class=CPackage>Интерфейсный пакет модуля TaskProcessor.</div></div><div class=CToolTip id="tt7"><div class=CConstant><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>Line_CtxTpName constant varchar2(</td><td class=PParameter nowrap>10</td><td class=PAfterParameters nowrap>) := 'line'</td></tr></table></td></tr></table></blockquote>Тип контекста выполнения &ldquo;Строка обрабатываемого файла&rdquo;. </div></div><div class=CToolTip id="tt8"><div class=CDatabaseView>Операции по управлению и выполнению заданий.</div></div><div class=CToolTip id="tt9"><div class=CGroup>(Версии::2.4.0 ( 2019-07-09))</div></div><div class=CToolTip id="tt10"><div class=CDatabaseTable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters colspan=5>create table tp_task_type (</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class=PTypePrefix nowrap>task_type_id integer not&nbsp;</td><td class=PType nowrap>null&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap width=100%>,</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class=PTypePrefix nowrap>module_name varchar2(30) not&nbsp;</td><td class=PType nowrap>null&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap width=100%>,</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class=PTypePrefix nowrap>process_name varchar2(30) not&nbsp;</td><td class=PType nowrap>null&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap width=100%>,</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class=PTypePrefix nowrap>task_type_name_eng varchar2(100) not&nbsp;</td><td class=PType nowrap>null&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap width=100%>,</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class=PTypePrefix nowrap>task_type_name_rus varchar2(100) not&nbsp;</td><td class=PType nowrap>null&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap width=100%>,</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class=PTypePrefix nowrap>exec_command varchar2(1000) not&nbsp;</td><td class=PType nowrap>null&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap width=100%>,</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class=PTypePrefix nowrap>file_name_pattern&nbsp;</td><td class=PType nowrap>varchar2(100)&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap width=100%>,</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class=PTypePrefix nowrap>access_role_short_name&nbsp;</td><td class=PType nowrap>varchar2(50)&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap width=100%>,</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class=PTypePrefix nowrap>task_keep_day&nbsp;</td><td class=PType nowrap>integer&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap width=100%>,</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class=PTypePrefix nowrap>date_ins date default sysdate not&nbsp;</td><td class=PType nowrap>null&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap width=100%>,</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class=PTypePrefix nowrap>operator_id integer not&nbsp;</td><td class=PType nowrap>null&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap width=100%>,</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class=PTypePrefix nowrap>constraint tp_task_type_pk primary key ( task_type_id) using index tablespace&nbsp;</td><td class=PType nowrap>&amp;indexTablespace&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap width=100%>,</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class=PTypePrefix nowrap>constraint tp_task_type_uk unique ( module_name, process_name) using index&nbsp;</td><td class=PType nowrap>tablespace&nbsp;</td><td class=PParameterPrefix nowrap>&amp;</td><td class=PParameter nowrap width=100%>indexTablespace</td></tr><tr><td class=PAfterParameters colspan=5>)</td></tr></table></td></tr></table></blockquote>Типы заданий.</div></div><div class=CToolTip id="tt11"><div class=CFunctionpublic><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>procedure waitForTask(</td><td class=PTypePrefix nowrap>taskId&nbsp;</td><td class=PType nowrap>integer&nbsp;</td><td class=PParameter nowrap>,</td><td class=PDefaultValuePrefix>&nbsp;&nbsp;</td><td class=PDefaultValue width=100%></td></tr><tr><td></td><td class=PTypePrefix nowrap>maxCount&nbsp;</td><td class=PType nowrap>integer&nbsp;</td><td class=PParameter nowrap>:</td><td class=PDefaultValuePrefix>&nbsp;=&nbsp;</td><td class=PDefaultValue width=100%> null</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Ожидание обработки задания.</div></div><div class=CToolTip id="tt12"><div class=CPackage>Константы модуля TaskProcessor.</div></div><div class=CToolTip id="tt13"><div class=CPackage>Функции обработки модуля TaskProcessor.</div></div><div class=CToolTip id="tt14"><div class=CFunctionpublic><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>function getResult return sys_refcursor</td></tr></table></blockquote>Возвращает возможные результаты выполнения заданий.</div></div><div class=CToolTip id="tt15"><div class=CFunctionpublic><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>function getTaskTypeId(</td><td class=PTypePrefix nowrap>moduleName&nbsp;</td><td class=PType nowrap>varchar2&nbsp;</td><td class=PParameter nowrap>,</td><td class=PDefaultValuePrefix>&nbsp;&nbsp;</td><td class=PDefaultValue width=100%></td></tr><tr><td></td><td class=PTypePrefix nowrap>processName&nbsp;</td><td class=PType nowrap>varchar2&nbsp;</td><td class=PParameter nowrap>,</td><td class=PDefaultValuePrefix>&nbsp;&nbsp;</td><td class=PDefaultValue width=100%></td></tr><tr><td></td><td class=PTypePrefix nowrap>isNotFoundRaised&nbsp;</td><td class=PType nowrap>integer&nbsp;</td><td class=PParameter nowrap>:</td><td class=PDefaultValuePrefix>&nbsp;=&nbsp;</td><td class=PDefaultValue width=100%> null</td><td class=PAfterParameters nowrap>) return integer</td></tr></table></td></tr></table></blockquote>Возвращает Id типа задания для указанного процесса.</div></div><div class=CToolTip id="tt16"><div class=CFile>Выдает права на использование модуля.</div></div><div class=CToolTip id="tt17"><div class=CDatabaseTable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters colspan=4>create table tp_task_log (</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class=PTypePrefix nowrap>task_log_id integer not&nbsp;</td><td class=PType nowrap>null&nbsp;</td><td class=PParameter nowrap width=100%>,</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class=PTypePrefix nowrap>task_id integer not&nbsp;</td><td class=PType nowrap>null&nbsp;</td><td class=PParameter nowrap width=100%>,</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class=PTypePrefix nowrap>start_number integer not&nbsp;</td><td class=PType nowrap>null&nbsp;</td><td class=PParameter nowrap width=100%>,</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class=PTypePrefix nowrap>line_number integer not&nbsp;</td><td class=PType nowrap>null&nbsp;</td><td class=PParameter nowrap width=100%>,</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class=PTypePrefix nowrap>level_code varchar2(10) not&nbsp;</td><td class=PType nowrap>null&nbsp;</td><td class=PParameter nowrap width=100%>,</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class=PTypePrefix nowrap>message_text varchar2(4000) not&nbsp;</td><td class=PType nowrap>null&nbsp;</td><td class=PParameter nowrap width=100%>,</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class=PTypePrefix nowrap>date_ins date default sysdate not&nbsp;</td><td class=PType nowrap>null&nbsp;</td><td class=PParameter nowrap width=100%>,</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class=PTypePrefix nowrap>operator_id integer not&nbsp;</td><td class=PType nowrap>null&nbsp;</td><td class=PParameter nowrap width=100%>,</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class=PTypePrefix nowrap>constraint tp_task_log_pk primary key ( task_log_id) using index tablespace&nbsp;</td><td class=PType nowrap>&amp;indexTablespace&nbsp;</td><td class=PParameter nowrap width=100%>,</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class=PTypePrefix nowrap>constraint tp_task_log_ck_start_number check&nbsp;</td><td class=PType nowrap>( start_number &gt; 0)&nbsp;</td><td class=PParameter nowrap width=100%>,</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class=PTypePrefix nowrap>constraint tp_task_log_ck_line_number check&nbsp;</td><td class=PType nowrap>( line_number &gt;= 0)&nbsp;</td><td class=PParameter nowrap width=100%>,</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class=PTypePrefix nowrap>constraint tp_task_log_ck_level_code&nbsp;</td><td class=PType nowrap>check&nbsp;</td><td class=PParameter nowrap width=100%>( level_code not in ( 'ALL', 'OFF'))</td></tr><tr><td class=PAfterParameters colspan=4>)</td></tr></table></td></tr></table></blockquote>Лог выполнения заданий (устаревшая таблица, начиная с версии 2.4.0 лог сохраняется в таблице lg_log модуля Logging).</div></div><div class=CToolTip id="tt18"><div class=CFunctionpublic><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>procedure logMessage(</td><td class=PTypePrefix nowrap>levelCode&nbsp;</td><td class=PType nowrap>varchar2&nbsp;</td><td class=PParameter nowrap>,</td><td class=PDefaultValuePrefix>&nbsp;&nbsp;</td><td class=PDefaultValue width=100%></td></tr><tr><td></td><td class=PTypePrefix nowrap>messageText&nbsp;</td><td class=PType nowrap>varchar2&nbsp;</td><td class=PParameter nowrap>,</td><td class=PDefaultValuePrefix>&nbsp;&nbsp;</td><td class=PDefaultValue width=100%></td></tr><tr><td></td><td class=PTypePrefix nowrap>lineNumber&nbsp;</td><td class=PType nowrap>integer&nbsp;</td><td class=PParameter nowrap>:</td><td class=PDefaultValuePrefix>&nbsp;=&nbsp;</td><td class=PDefaultValue width=100%> null ,</td></tr><tr><td></td><td class=PTypePrefix nowrap>operatorId&nbsp;</td><td class=PType nowrap>integer&nbsp;</td><td class=PParameter nowrap>:</td><td class=PDefaultValuePrefix>&nbsp;=&nbsp;</td><td class=PDefaultValue width=100%> null</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Устаревшая функция, вместо нее следует использовать функции логирования сообщений из типа lg_logger_t (модуль Logging), при этом для указания строки обрабатываемого файла следует использовать контекст выполнения Line_CtxTpName.</div></div><div class=CToolTip id="tt19"><div class=CSection>[!]&nbsp; Для сессий обработчиков скрипт oms-check-lock ( входящий в состав OMS) определяет наличие блокировок на объекты, которые реально не заблокированы ( блокировки &ldquo;остаются&rdquo; в dba_ddl_locks после выполнения в обработчике прикладных заданий). </div></div><div class=CToolTip id="tt20"><div class=CDatabaseTable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters colspan=4>create table tp_task (</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class=PTypePrefix nowrap>task_id integer not&nbsp;</td><td class=PType nowrap>null&nbsp;</td><td class=PParameter nowrap width=100%>,</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class=PTypePrefix nowrap>task_type_id integer not&nbsp;</td><td class=PType nowrap>null&nbsp;</td><td class=PParameter nowrap width=100%>,</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class=PTypePrefix nowrap>task_status_code varchar2(10) not&nbsp;</td><td class=PType nowrap>null&nbsp;</td><td class=PParameter nowrap width=100%>,</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class=PTypePrefix nowrap>next_start_date&nbsp;</td><td class=PType nowrap>date&nbsp;</td><td class=PParameter nowrap width=100%>,</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class=PTypePrefix nowrap>sid&nbsp;</td><td class=PType nowrap>number&nbsp;</td><td class=PParameter nowrap width=100%>,</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class=PTypePrefix nowrap>serial#&nbsp;</td><td class=PType nowrap>number&nbsp;</td><td class=PParameter nowrap width=100%>,</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class=PTypePrefix nowrap>start_number&nbsp;</td><td class=PType nowrap>integer&nbsp;</td><td class=PParameter nowrap width=100%>,</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class=PTypePrefix nowrap>start_date&nbsp;</td><td class=PType nowrap>date&nbsp;</td><td class=PParameter nowrap width=100%>,</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class=PTypePrefix nowrap>finish_date&nbsp;</td><td class=PType nowrap>date&nbsp;</td><td class=PParameter nowrap width=100%>,</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class=PTypePrefix nowrap>result_code&nbsp;</td><td class=PType nowrap>varchar2(10)&nbsp;</td><td class=PParameter nowrap width=100%>,</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class=PTypePrefix nowrap>exec_result&nbsp;</td><td class=PType nowrap>integer&nbsp;</td><td class=PParameter nowrap width=100%>,</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class=PTypePrefix nowrap>error_code&nbsp;</td><td class=PType nowrap>integer&nbsp;</td><td class=PParameter nowrap width=100%>,</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class=PTypePrefix nowrap>error_message&nbsp;</td><td class=PType nowrap>varchar2(4000)&nbsp;</td><td class=PParameter nowrap width=100%>,</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class=PTypePrefix nowrap>manage_date date not&nbsp;</td><td class=PType nowrap>null&nbsp;</td><td class=PParameter nowrap width=100%>,</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class=PTypePrefix nowrap>manage_operator_id integer not&nbsp;</td><td class=PType nowrap>null&nbsp;</td><td class=PParameter nowrap width=100%>,</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class=PTypePrefix nowrap>date_ins date default sysdate not&nbsp;</td><td class=PType nowrap>null&nbsp;</td><td class=PParameter nowrap width=100%>,</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class=PTypePrefix nowrap>operator_id integer not&nbsp;</td><td class=PType nowrap>null&nbsp;</td><td class=PParameter nowrap width=100%>,</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class=PTypePrefix nowrap>constraint tp_task_pk primary key ( task_id) using index tablespace&nbsp;</td><td class=PType nowrap>&amp;indexTablespace&nbsp;</td><td class=PParameter nowrap width=100%>,</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class=PTypePrefix nowrap>constraint&nbsp;</td><td class=PType nowrap>tp_task_ck_start_number&nbsp;</td><td class=PParameter nowrap width=100%>check( start_number &gt; 0)</td></tr><tr><td class=PAfterParameters colspan=4>)</td></tr></table></td></tr></table></blockquote>Задания.</div></div><!--END_ND_TOOLTIPS-->




<div id=MSearchResultsWindow><iframe src="" frameborder=0 name=MSearchResults id=MSearchResults></iframe><a href="javascript:searchPanel.CloseResultsWindow()" id=MSearchResultsWindowClose>Close</a></div>


<script language=JavaScript><!--
if (browserType) {if (browserVer) {document.write("</div>"); }document.write("</div>");}// --></script></body></html>