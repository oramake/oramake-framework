-- table: lg_log
-- Лог работы программных модулей.
create table
  lg_log
(
  log_id                          integer                             not null
  , parent_log_id                 integer
  , message_type_code             varchar2(10)                        not null
  , message_value                 integer
  , message_text                  varchar2(4000)                      not null
  , date_ins                      date                default sysdate not null
  , operator_id                   integer
  , constraint lg_log_pk primary key
    ( log_id)
    using index tablespace &indexTablespace
)
/



comment on table lg_log is
  'Лог работы программных модулей [ SVN root: Oracle/Module/Logging]'
/
comment on column lg_log.log_id is
  'Id записи лога'
/
comment on column lg_log.parent_log_id is
  'Id родительской записи лога'
/
comment on column lg_log.message_type_code is
  'Код типа сообщения'
/
comment on column lg_log.message_value is
  'Целочисленное значение, связанное с сообщением'
/
comment on column lg_log.message_text is
  'Текст сообщения'
/
comment on column lg_log.date_ins is
  'Дата добавления записи'
/
comment on column lg_log.operator_id is
  'Id оператора ( из модуля AccessOperator)'
/



-- index: lg_log_ix_parent_log_id
-- Индекс по
create index
  lg_log_ix_parent_log_id
on
  lg_log (
    parent_log_id
  )
tablespace &indexTablespace
/

-- index: lg_log_ix_date_ins
-- Индекс для внешнего ключа.
create index
  lg_log_ix_date_ins
on
  lg_log (
    date_ins
  )
tablespace &indexTablespace
/
