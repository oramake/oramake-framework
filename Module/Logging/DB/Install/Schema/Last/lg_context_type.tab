-- table: lg_context_type
-- Типы контекста выполнения
-- (актуальные данные, включая логически удаленные записи).
create table
  lg_context_type
(
  context_type_id                 integer                             not null
  , module_id                     integer                             not null
  , context_type_short_name       varchar2(50)                        not null
  , context_type_name             varchar2(100)                       not null
  , nested_flag                   number(1)                           not null
  , context_type_description      varchar2(1000)
  , temporary_use_date            date
  , deleted                       number(1)           default 0       not null
  , date_ins                      date                default sysdate not null
  , constraint lg_context_type_pk primary key
    ( context_type_id)
    using index tablespace &indexTablespace
  , constraint lg_context_type_uk unique
    ( module_id, context_type_short_name)
    using index tablespace &indexTablespace
  , constraint lg_context_type_ck_nested_flag check
    ( nested_flag in ( 0, 1))
  , constraint lg_context_type_ck_deleted check
    ( deleted in ( 0, 1))
)
/



comment on table lg_context_type is
  'Типы контекста выполнения (актуальные данные, включая логически удаленные записи) [SVN root: Oracle/Module/Logging]'
/
comment on column lg_context_type.context_type_id is
  'Id типа контекста выполнения'
/
comment on column lg_context_type.module_id is
  'Id модуля, к которому относится тип контекста'
/
comment on column lg_context_type.context_type_short_name is
  'Краткое наименование типа контекста (уникальное в рамках модуля)'
/
comment on column lg_context_type.context_type_name is
  'Наименование типа контекста'
/
comment on column lg_context_type.nested_flag is
  'Флаг вложенного контекста (1 да, 0 нет). Для вложенных контекстов подсчитывается уровень вложенности (значения context_level и context_type_level таблицы lg_log), при закрытии вложенного контекста незакрытые вложенные контексты большего уровня (открытые позже) закрываются автоматически. Вложенный контекст закрывается с учетом связанного с ним значения (context_value_id), невложенный без учета значения.'
/
comment on column lg_context_type.context_type_description is
  'Описание типа контекста'
/
comment on column lg_context_type.temporary_use_date is
  'Дата последнего использования временного типа контекста (null если тип контекста не является временным). Временный тип контекста удаляется автоматически по истечении определенного срока после его последнего использования'
/
comment on column lg_context_type.deleted is
  'Флаг логического удаления записи (0 - существующая, 1 - удалена)'
/
comment on column lg_context_type.date_ins is
  'Дата добавления записи'
/
