title: ќписание

ћодуль предназначен дл€ отправки и получени€ сообщений электронной почты.

¬озможности:
- получение и сохранение в Ѕƒ почтовых сообщений ( поддерживаютс€ вложени€ и
  вложенные сообщени€);
- обработка полученных и отправка ответных сообщений ( с вложени€ми) в рамках
  транзакции;
- непосредственна€ отправка письма с вложением ( без сохранени€ в Ѕƒ);
- получение почты по протоколам POP3 и IMAP;
- отправка почты по протоколу SMTP ( возможно использование разных
  SMTP-серверов, а также использование SMTP-сервера с SSL-авторизацией);

ƒополнительные возможности:
- поддержка логических цепочек сообщений ( например, запрос-ответ);
- автоматическое удаление сообщений по истечению срока жизни;
- нотификаци€ в случае ошибок при оправке сообщений;
- отправка сообщений в виде HTML;

»спользование:
- в простейшем случае обработку почтовых сообщений можно выполнить следующим
  образом

  (start code)

  loop
    messageId := pkg_Mail.getMessage( url);
    exit when messageId is null;

    --обрабатываем полученное сообщение

  end loop;

  commit;

  (end)

  при этом в случае отсутстви€ почтовых сообщений дл€ обрработки, функци€
  <pkg_Mail.getMessage> будет вызывать <pkg_Mail.fetchMessage> дл€ получени€
  писем из почтового €щика.

- дл€ €вного контрол€ над подключением к почтовому €щику можно использовать
  цикл:

  (start code)

  loop
    nFetch := pkg_Mail.fetchMessage( url);
    exit when nFetch = 0;

    loop
      messageId := pkg_Mail.getMessage( recipientAddress => recipientAddress);
      exit when messageId is null;

      --обрабатываем полученное сообщение

    end loop;

    commit;

  end loop;

  (end)
