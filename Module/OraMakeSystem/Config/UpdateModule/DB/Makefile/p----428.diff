Index: Config/NewModule/DB/Makefile
===================================================================
--- Config/NewModule/DB/Makefile	(revision 429)
+++ Config/NewModule/DB/Makefile	(working copy)
@@ -222,13 +222,13 @@
 #
 # Для настройки передачи параметров при загрузке/выполнении указанного файла
 # в список нужно добавить строку вида
-#   <filePath>.$([l,r]u*)) echo '"arg1" "arg2"'; ;;
+#   $(call getArgumentDefine,<filePath>.$([l,r]u*),"arg1"[ "arg2"]...)
 # где filePath - путь к файлу относительно каталога DB ( с учетом регистра,
 # можно использовать метасимволы).
 # С помощью дополнительного расширения ( например, $(lu2)) определяется схема
 # и тип загрузки, для которой используются параметры ( если для любых, то можно
 # указать *).
-loadArgumentList =
+loadArgumentList +=
 
 
 
@@ -261,10 +261,24 @@
 # можно убирать использование этой переменной из installBeforeTarget и указывать
 # там вручную необходимые стандартные действия).
 installBeforeOmsAction =                      \
+  oms-check-lock.sql                          \
   oms-show-invalid.sql                        \
 
 
 
+# Список объектов для проверки отсутствия блокировок перед установкой.
+# Из списка автоматически исключаются файлы, не загружаемые из-за значений
+# параметров LOAD_FILE_MASK и SKIP_FILE_MASK.
+# Формат списка такой же, как у loadTarget.
+checkLockTarget =                             \
+  $(loadTarget)                               \
+
+# Список объектов для обязательной проверки блокировок перед установкой.
+# Формат списка такой же, как у checkLockTarget.
+mandatoryCheckLockTarget =
+
+
+
 # Действия, выполняемые перед установкой модуля.
 installBeforeTarget =                          \
   $(addsuffix .$(ru),                          \
