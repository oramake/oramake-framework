-- script: oms-stop-batch.sql
-- Деактивирует пакетные задания, реализованные с помощью модуля
-- Scheduler, и ожидает завершения сессий выполняющихся пакетных заданий.
-- Деактивация полностью аналогична выполняемой скриптом
-- <oms-deactivate-batch.sql>.
--
-- Параметры:
-- patternList                - список масок пакетных заданий ( формат:
--                              список через запятую масок для like имени
--                              пакетного задания с опциональной маской
--                              имени типа пакетного задания вида
--                              [<batchTypePattern>/]<batchPattern>)
--
-- Используемые макропеременные:
-- OMS_STOP_BATCH_SECOND      - максимальное время завершения выполняющихся
--                              пакетных заданий ( в секундах, 0 не ожидать,
--                              по умолчанию 60)
--
-- Замечания:
--  - прикладной скрипт, предназначен для вызова из пользовательских скриптов;
--  - скрипт спроектирован для использования в паре со скриптом
--    <oms-resume-batch.sql> при установке прикладных модулей;
--  - для выполнения операции используется скрипт
--    <OmsInternal/exec-batch-operation.sql>
--

@&OMS_SCRIPT_DIR/OmsInternal/exec-batch-operation.sql STOP "&1" "&OMS_STOP_BATCH_SECOND"
