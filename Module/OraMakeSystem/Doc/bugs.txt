Title: Ошибки



group: Общие

[!] В документации могут отсутствовать прототипы процедур/функций в зависимости
    от их названия ( пример: "ChangeTask" ( пакет pkg_CMProjectUser)).

[!] Для некоторых таблиц может быть использовано нестандартное форматирование
    прототипа со сдвигом колонок вправо по левой скобке ( пример: модуль
    Option, таблица doc_mask).

[!] Прототип таблицы пропадает, если в ней в выражении для check constraint
    появляется символ "<" ( пример: СMProject/cmp_revision).

[!] В некоторых БД скрипт <oms-check-lock.sql> зависает ( очень долго
    выполняется) из-за крайне низкой скорости выборки из используемого системного
    представления dba_ddl_locks.

[!] При загрузке в БД возникает ошибка в случае, если пароль содержит пробел
    ( проблема в способе определения полной строки подключения в make-функции
    getLoadUserId).

[!] После изменения регистра символов в имени файла, загружаемого по цели load,
    он начинает загружаться постоянно вне зависимости от наличия изменений.
    Проблема вызывается появлением расхождения в регистре символов исходного
    файла и файла, отражающего факт загрузки исходного файла в БД ( который
    находится в каталоге DB/OmsModule/Load/State/..."), которое не
    корректируется при загрузке. Для решения проблемы можно удалить
    соответствующий файл-метку ( либо вручную либо удалить все
    метки командой "make load-clean") и после очередной успешной загрузки
    исходного файла файл-метка будет создан с правильным именем.

[!] При невозможности построить ни один из пунктов меню индексов в
меню документации, при автогенерации меню
индекс "Все вместе" может перемещаться в начало меню.



group: Используемые обходные решения

[!] В bash ( версия 3.2.49 и ранее) встроенная команда read зависает при
    наличии во вводе двух идущих подряд символов возврата каретки. Это
    приводило к зависанию скрипта <oms-load> в некоторых случаях ( обычно при
    ошибке в Java-коде). Проблема решена предварительным удалением символов
    возврата каретки с помощью команды sed.

[!] На некоторых хостах при загрузке файлов c помощью SQL*Loader версии
    11.1.0.7.0 в случае присутствия в пути к файлу лога символа "@" возникает
    ошибка открытия лога "SQL*Loader-522: lfiopn failed for file ..." из-за
    подстановки вместо символа "@" логина пользователя. В качестве обходного
    решения в скрипте <oms-load> путь к служебным файлам, создаваемым
    SQL*Loader, корректируется с помощью замены символа "@" на "-". В
    результате, например, вместо ветки DB/OmsModule/Load/Log/{userName}@{dbName}
    для логов используется ветка DB/OmsModule/Load/Log/{userName}-{dbName}.

[!] В случае, если Natural Docs располагает ссылки на файлы ниже меню индексов
    ( например, в случае модулей, для которых меню редактировалось вручную не в
    соответствие с соглашениями), при генерации меню они не учитываются. Следует
    изменить функцию <oms-auto-doc::getMenuPart>, чтобы учесть случай расположения
    файлов ниже меню индексов.  В качестве обходного решения следует вручную
    удалить в Menu.txt всё, что ниже заголовка меню ( начиная с первой Group) и
    перегенерить автодокументацию с помощью "make gendoc-menu".

[!] Скрипт <oms-load> в случае наличия удаляет файл с именем "nul" в текущем
    каталоге, т.к. такой файл может появиться при установке модуля с
    OMS-файлами версии 1.6.0 или ниже ( в случае вызова make-функции
    <getVersionDir> при работе make).

[!] Для работы с сетевой папкой требуется обход ошибки "Permision Denied" в
    Cygwin ( см. bugs.txt в дистрибутиве Cygwin);

[!] При работе с сетевой папкой для устранения ошибки
    ( code)
  CMD.EXE was started with the above path as the current directory.
  UNC paths are not supported.  Defaulting to Windows directory,
    ( end code)
    возникающей, например, при загрузке jar-файлов ( Java-библиотек) с помощью
    load-java.bat, требуется установить в раздел реестра Windows с путём
    HKEY_CURRENT_USER\Software\Microsoft\Command Processor для параметра
    DisableUNCCheck типа REG_DWORD значение 0 x 1 (Hex).  ( проверено для Windows
    7); Для установки значения в реестре можно использовать команду:

    (code)
       reg add "HKCU\Software\Microsoft\Command Processor" /v DisableUNCCheck /t REG_DWORD /d 1 /f
    (end code)

    В случае возникновения подобной ошибки при выполнении команды CD в командной
    строке Windows можно подмонтировать сетевую папку как локальный диск
    с помощью команды "NET USE" и затем перейти в нужную папку:

    (code)

    net use z: \\network\path
    cd /d z:
    ...
    cd /d c:
    net use z: /delete

    (end)

    Также можно воспользоваться командами PUSHD/POPD, которые выполняют
    переход/возврат к сетевой папке и неявно при этом монтируют/размонтируют
    сетевой ресурс как локальный диск:

    (code)

    pushd \\network\path
    ...
    popd

    (end)

[!] В скрипте <oms-load> при выполнении в MSYS2 ( GNU bash, version
    4.3.46(2)-release (i686-pc-msys)) программа sqlplus.exe игнорировала
    ( не видела) команды, передаваемые через пайп. В качестве обходного решения
    вызов sqlplus стал выполняться через командный процессор Windows:

    (code)

    cmd /c "sqlplus -S /NOLOG"

    (end)

    Однако обходное решение перестает работать если явно монтировать файловую
    систему без префикса "/cygdrive", добавив в etc/fstab строку
    ( согласно http://cygwin.com/cygwin-ug-net/using.html#mount-table):

    (code)

    none / cygdrive binary,posix=0,noacl,user 0 0

    (end)
