<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">

<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>oms-common.sh - OraMakeSystem</title><link rel="stylesheet" type="text/css" href="../../styles/main.css"><script language=JavaScript src="../../javascript/main.js"></script><script language=JavaScript src="../../javascript/searchdata.js"></script></head><body class="ContentPage" onLoad="NDOnLoad();"><script language=JavaScript><!--
if (browserType) {document.write("<div class=" + browserType + ">");if (browserVer) {document.write("<div class=" + browserVer + ">"); }}// --></script>

<!--  Generated by Natural Docs, version 1.5 -->
<!--  http://www.naturaldocs.org  -->

<!-- saved from url=(0026)http://www.naturaldocs.org -->




<div id=Content><div class="CFile"><div class=CTopic id=MainTopic><h1 class=CTitle><a name="oms-common.sh"></a>oms-common.sh</h1><div class=CBody><p>Внутренний скрипт, содержащий константы, переменные и функции, используемые в shell-скриптах.</p><p>Подключение данного скрипта к основному скрипту должно выполняться с помощью команды &ldquo;.&rdquo;&nbsp; без указания аргументов скрипта:</p><blockquote><pre>source oms-common.sh || exit 11</pre></blockquote><p>При этом предварительно должны быть определены и инициализированы переменные:</p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>OMS_VERSION</td><td class=CDLDescription>версия программы</td></tr><tr><td class=CDLEntry>fileRevisionValue</td><td class=CDLDescription>строка с номером последней правки, в которой был изменен файл основного скрипта</td></tr><tr><td class=CDLEntry>fileChangeDateValue</td><td class=CDLDescription>строка с датой последнего изменения файла основного скрипта</td></tr></table><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SMain"><td class=SEntry><a href="#oms-common.sh" >oms-common.sh</a></td><td class=SDescription>Внутренний скрипт, содержащий константы, переменные и функции, используемые в shell-скриптах.</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#oms-common.sh.Переменные" >Переменные</a></td><td class=SDescription></td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#oms-common.sh.Информацияоверсии" >Информация о версии</a></td><td class=SDescription></td></tr><tr class="SVariable SIndent2 SMarked"><td class=SEntry><a href="#oms-common.sh.omsSvnRoot" id=link1 onMouseOver="ShowTip(event, 'tt1', 'link1')" onMouseOut="HideTip('tt1')">omsSvnRoot</a></td><td class=SDescription>Путь к корневому каталогу OMS в Subversion ( начиная с имени репозитария).</td></tr><tr class="SVariable SIndent2"><td class=SEntry><a href="#oms-common.sh.omsInitialSvnPath" id=link2 onMouseOver="ShowTip(event, 'tt2', 'link2')" onMouseOut="HideTip('tt2')">omsInitialSvnPath</a></td><td class=SDescription>Первоначальный путь к корневому каталогу OMS в Subversion ( начиная с имени репозитария и с указанием номера правки, в которой был создан каталог).</td></tr><tr class="SVariable SIndent2 SMarked"><td class=SEntry><a href="#oms-common.sh.commonRevisionValue" id=link3 onMouseOver="ShowTip(event, 'tt3', 'link3')" onMouseOut="HideTip('tt3')">commonRevisionValue</a></td><td class=SDescription>Строка с номером последней правки, в которой был изменен файл</td></tr><tr class="SVariable SIndent2"><td class=SEntry><a href="#oms-common.sh.commonChangeDateValue" id=link4 onMouseOver="ShowTip(event, 'tt4', 'link4')" onMouseOut="HideTip('tt4')">commonChangeDateValue</a></td><td class=SDescription>Строка с последней датой изменения файла</td></tr><tr class="SVariable SIndent2 SMarked"><td class=SEntry><a href="#oms-common.sh.commonRevision" id=link5 onMouseOver="ShowTip(event, 'tt5', 'link5')" onMouseOut="HideTip('tt5')">commonRevision</a></td><td class=SDescription>Номер последней правки, в которой был изменен файл.</td></tr><tr class="SVariable SIndent2"><td class=SEntry><a href="#oms-common.sh.commonChangeDate" id=link6 onMouseOver="ShowTip(event, 'tt6', 'link6')" onMouseOut="HideTip('tt6')">commonChangeDate</a></td><td class=SDescription>Дата последнего изменения файла.</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#oms-common.sh.Кодыошибок" >Коды ошибок</a></td><td class=SDescription></td></tr><tr class="SVariable SIndent2 SMarked"><td class=SEntry><a href="#oms-common.sh.E_FALSE_RESULT" id=link7 onMouseOver="ShowTip(event, 'tt7', 'link7')" onMouseOut="HideTip('tt7')">E_FALSE_RESULT</a></td><td class=SDescription>Код возврата в случае отрицательного результата выполнения.</td></tr><tr class="SVariable SIndent2"><td class=SEntry><a href="#oms-common.sh.E_ARG_ERROR" id=link8 onMouseOver="ShowTip(event, 'tt8', 'link8')" onMouseOut="HideTip('tt8')">E_ARG_ERROR</a></td><td class=SDescription>Код ошибки из-за неверных агрументов.</td></tr><tr class="SVariable SIndent2 SMarked"><td class=SEntry><a href="#oms-common.sh.E_PROCESS_ERROR" id=link9 onMouseOver="ShowTip(event, 'tt9', 'link9')" onMouseOut="HideTip('tt9')">E_PROCESS_ERROR</a></td><td class=SDescription>Код ошибки обработки</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#oms-common.sh.Уровнилогируемыхсообщений" >Уровни логируемых сообщений</a></td><td class=SDescription></td></tr><tr class="SVariable SIndent2 SMarked"><td class=SEntry><a href="#oms-common.sh.FATAL_LOG_LEVEL" id=link10 onMouseOver="ShowTip(event, 'tt10', 'link10')" onMouseOut="HideTip('tt10')">FATAL_LOG_LEVEL</a></td><td class=SDescription>Сообщение о критической ошибке, вызывающей аварийное завершение выполнения.</td></tr><tr class="SVariable SIndent2"><td class=SEntry><a href="#oms-common.sh.ERROR_LOG_LEVEL" id=link11 onMouseOver="ShowTip(event, 'tt11', 'link11')" onMouseOut="HideTip('tt11')">ERROR_LOG_LEVEL</a></td><td class=SDescription>Сообщение об ошибке.</td></tr><tr class="SVariable SIndent2 SMarked"><td class=SEntry><a href="#oms-common.sh.WARNING_LOG_LEVEL" id=link12 onMouseOver="ShowTip(event, 'tt12', 'link12')" onMouseOut="HideTip('tt12')">WARNING_LOG_LEVEL</a></td><td class=SDescription>Предупреждение.</td></tr><tr class="SVariable SIndent2"><td class=SEntry><a href="#oms-common.sh.INFO_LOG_LEVEL" id=link13 onMouseOver="ShowTip(event, 'tt13', 'link13')" onMouseOut="HideTip('tt13')">INFO_LOG_LEVEL</a></td><td class=SDescription>Информационное сообщение.</td></tr><tr class="SVariable SIndent2 SMarked"><td class=SEntry><a href="#oms-common.sh.DEBUG_LOG_LEVEL" id=link14 onMouseOver="ShowTip(event, 'tt14', 'link14')" onMouseOut="HideTip('tt14')">DEBUG_LOG_LEVEL</a></td><td class=SDescription>Отладочное сообщение 1-го уровня.</td></tr><tr class="SVariable SIndent2"><td class=SEntry><a href="#oms-common.sh.DEBUG2_LOG_LEVEL" id=link15 onMouseOver="ShowTip(event, 'tt15', 'link15')" onMouseOut="HideTip('tt15')">DEBUG2_LOG_LEVEL</a></td><td class=SDescription>Отладочное сообщение 2-го уровня.</td></tr><tr class="SVariable SIndent2 SMarked"><td class=SEntry><a href="#oms-common.sh.DEBUG3_LOG_LEVEL" id=link16 onMouseOver="ShowTip(event, 'tt16', 'link16')" onMouseOut="HideTip('tt16')">DEBUG3_LOG_LEVEL</a></td><td class=SDescription>Отладочное сообщение 3-го уровня.</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#oms-common.sh.Исполняемыйскрипт" >Исполняемый скрипт</a></td><td class=SDescription></td></tr><tr class="SVariable SIndent2 SMarked"><td class=SEntry><a href="#oms-common.sh.scriptName" id=link17 onMouseOver="ShowTip(event, 'tt17', 'link17')" onMouseOut="HideTip('tt17')">scriptName</a></td><td class=SDescription>Имя основного скрипта ( без пути).</td></tr><tr class="SVariable SIndent2"><td class=SEntry><a href="#oms-common.sh.scriptRevision" id=link18 onMouseOver="ShowTip(event, 'tt18', 'link18')" onMouseOut="HideTip('tt18')">scriptRevision</a></td><td class=SDescription>Номер последней правки, в которой был изменен файл основного скрипта. </td></tr><tr class="SVariable SIndent2 SMarked"><td class=SEntry><a href="#oms-common.sh.scriptChangeDate" id=link19 onMouseOver="ShowTip(event, 'tt19', 'link19')" onMouseOut="HideTip('tt19')">scriptChangeDate</a></td><td class=SDescription>Дата последнего изменения файла основного скрипта. </td></tr><tr class="SVariable SIndent2"><td class=SEntry><a href="#oms-common.sh.scriptArgumentList" id=link20 onMouseOver="ShowTip(event, 'tt20', 'link20')" onMouseOut="HideTip('tt20')">scriptArgumentList</a></td><td class=SDescription>Параметры вызова скрипта ( сохраняются для отладки)</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#oms-common.sh.Настроечныепараметры" >Настроечные параметры</a></td><td class=SDescription></td></tr><tr class="SVariable SIndent2 SMarked"><td class=SEntry><a href="#oms-common.sh.svnCmd" id=link21 onMouseOver="ShowTip(event, 'tt21', 'link21')" onMouseOut="HideTip('tt21')">svnCmd</a></td><td class=SDescription>Исполняемый файл Subversion.</td></tr><tr class="SVariable SIndent2"><td class=SEntry><a href="#oms-common.sh.installShareDir" id=link22 onMouseOver="ShowTip(event, 'tt22', 'link22')" onMouseOut="HideTip('tt22')">installShareDir</a></td><td class=SDescription>Путь к каталогу с данными OMS ( за исключением скриптов и настроек)</td></tr><tr class="SVariable SIndent2 SMarked"><td class=SEntry><a href="#oms-common.sh.sqlScriptDir" id=link23 onMouseOver="ShowTip(event, 'tt23', 'link23')" onMouseOut="HideTip('tt23')">sqlScriptDir</a></td><td class=SDescription>Каталог со стандартными SQL-скриптами</td></tr><tr class="SVariable SIndent2"><td class=SEntry><a href="#oms-common.sh.configDir" id=link24 onMouseOver="ShowTip(event, 'tt24', 'link24')" onMouseOut="HideTip('tt24')">configDir</a></td><td class=SDescription>Каталог с настройками.</td></tr><tr class="SVariable SIndent2 SMarked"><td class=SEntry><a href="#oms-common.sh.templateDir" id=link25 onMouseOver="ShowTip(event, 'tt25', 'link25')" onMouseOut="HideTip('tt25')">templateDir</a></td><td class=SDescription>Каталог с шаблоном нового модуля.</td></tr><tr class="SVariable SIndent2"><td class=SEntry><a href="#oms-common.sh.templatePackageName" id=link26 onMouseOver="ShowTip(event, 'tt26', 'link26')" onMouseOut="HideTip('tt26')">templatePackageName</a></td><td class=SDescription>Базовое имя ( без расширения) файлов с шаблоном пакета Oracle.</td></tr><tr class="SVariable SIndent2 SMarked"><td class=SEntry><a href="#oms-common.sh.patchConfigDir" id=link27 onMouseOver="ShowTip(event, 'tt27', 'link27')" onMouseOut="HideTip('tt27')">patchConfigDir</a></td><td class=SDescription>Настроечный каталог с патчами для обновления файлов модуля.</td></tr><tr class="SVariable SIndent2"><td class=SEntry><a href="#oms-common.sh.moduleOmsDir" id=link28 onMouseOver="ShowTip(event, 'tt28', 'link28')" onMouseOut="HideTip('tt28')">moduleOmsDir</a></td><td class=SDescription>Каталог с файлами OMS внутри прикладного модуля.</td></tr><tr class="SVariable SIndent2 SMarked"><td class=SEntry><a href="#oms-common.sh.moduleOperatorLoginScript" id=link29 onMouseOver="ShowTip(event, 'tt29', 'link29')" onMouseOut="HideTip('tt29')">moduleOperatorLoginScript</a></td><td class=SDescription>Скрипт регистрации оператора внутри прикладного модуля.</td></tr><tr class="SVariable SIndent2"><td class=SEntry><a href="#oms-common.sh.tmpFileDir" id=link30 onMouseOver="ShowTip(event, 'tt30', 'link30')" onMouseOut="HideTip('tt30')">tmpFileDir</a></td><td class=SDescription>Каталог для временных файлов</td></tr><tr class="SVariable SIndent2 SMarked"><td class=SEntry><a href="#oms-common.sh.tmpFile" id=link31 onMouseOver="ShowTip(event, 'tt31', 'link31')" onMouseOut="HideTip('tt31')">tmpFile</a></td><td class=SDescription>Временный файл для использования в скрипте.</td></tr><tr class="SVariable SIndent2"><td class=SEntry><a href="#oms-common.sh.fileExtensionList" id=link32 onMouseOver="ShowTip(event, 'tt32', 'link32')" onMouseOut="HideTip('tt32')">fileExtensionList</a></td><td class=SDescription>Список настроек по расширениям файлов ( в соответствии с соглашениями <a href="../Doc/Agreement/files-txt.html#Файлы" class=LSection >Файлы</a>). </td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#oms-common.sh.Параметрывызова" >Параметры вызова</a></td><td class=SDescription></td></tr><tr class="SVariable SIndent2 SMarked"><td class=SEntry><a href="#oms-common.sh.logLevel" id=link33 onMouseOver="ShowTip(event, 'tt33', 'link33')" onMouseOut="HideTip('tt33')">logLevel</a></td><td class=SDescription>Уровень вывода сообщений о выполнении скрипта. </td></tr><tr class="SVariable SIndent2"><td class=SEntry><a href="#oms-common.sh.isDryRun" id=link34 onMouseOver="ShowTip(event, 'tt34', 'link34')" onMouseOut="HideTip('tt34')">isDryRun</a></td><td class=SDescription>Признак тестового запуска ( только печать команд без выполнения). </td></tr><tr class="SVariable SIndent2 SMarked"><td class=SEntry><a href="#oms-common.sh.runCmd" id=link35 onMouseOver="ShowTip(event, 'tt35', 'link35')" onMouseOut="HideTip('tt35')">runCmd</a></td><td class=SDescription>Выполнение команды ( в случае <a href="#oms-common.sh.isDryRun" class=LVariable id=link36 onMouseOver="ShowTip(event, 'tt34', 'link36')" onMouseOut="HideTip('tt34')">isDryRun</a> указывается &ldquo;echo&rdquo;, иначе пустая строка). </td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#oms-common.sh.Возвращаемыефункциямизначения" >Возвращаемые функциями значения</a></td><td class=SDescription></td></tr><tr class="SVariable SIndent2 SMarked"><td class=SEntry><a href="#oms-common.sh.svnModuleRoot" id=link37 onMouseOver="ShowTip(event, 'tt36', 'link37')" onMouseOut="HideTip('tt36')">svnModuleRoot</a></td><td class=SDescription>Путь к корневому каталогу модуля в Subversion ( начиная с репозитария) Устанавливается в функции <a href="#oms-common.sh.getSvnModuleRoot" class=LFunction id=link38 onMouseOver="ShowTip(event, 'tt37', 'link38')" onMouseOut="HideTip('tt37')">getSvnModuleRoot</a>.</td></tr><tr class="SVariable SIndent2"><td class=SEntry><a href="#oms-common.sh.svnModuleRootUrl" id=link39 onMouseOver="ShowTip(event, 'tt38', 'link39')" onMouseOut="HideTip('tt38')">svnModuleRootUrl</a></td><td class=SDescription>URL корневого каталога модуля в Subversion. </td></tr><tr class="SVariable SIndent2 SMarked"><td class=SEntry><a href="#oms-common.sh.svnModuleRootFilePath" id=link40 onMouseOver="ShowTip(event, 'tt39', 'link40')" onMouseOut="HideTip('tt39')">svnModuleRootFilePath</a></td><td class=SDescription>Путь в Subversion, из которого были получены файлы модуля ( начиная с имени репозитария). </td></tr><tr class="SVariable SIndent2"><td class=SEntry><a href="#oms-common.sh.svnInitialPath" id=link41 onMouseOver="ShowTip(event, 'tt40', 'link41')" onMouseOut="HideTip('tt40')">svnInitialPath</a></td><td class=SDescription>Первоначальный путь к корневому каталогу модуля в Subversion. </td></tr><tr class="SVariable SIndent2 SMarked"><td class=SEntry><a href="#oms-common.sh.fileObjectName" id=link42 onMouseOver="ShowTip(event, 'tt41', 'link42')" onMouseOut="HideTip('tt41')">fileObjectName</a></td><td class=SDescription>Имя объекта БД, которому соответствует файл. </td></tr><tr class="SVariable SIndent2"><td class=SEntry><a href="#oms-common.sh.fileObjectType" id=link43 onMouseOver="ShowTip(event, 'tt42', 'link43')" onMouseOut="HideTip('tt42')">fileObjectType</a></td><td class=SDescription>Тип объекта БД, которому соответствует файл. </td></tr><tr class="SVariable SIndent2 SMarked"><td class=SEntry><a href="#oms-common.sh.moduleGendocEncoding" id=link44 onMouseOver="ShowTip(event, 'tt43', 'link44')" onMouseOut="HideTip('tt43')">moduleGendocEncoding</a></td><td class=SDescription>Encoding of module&rsquo;s documentation ( enconding name for iconv) Is set in <a href="#oms-common.sh.getModuleGendocEncoding" class=LFunction id=link45 onMouseOver="ShowTip(event, 'tt44', 'link45')" onMouseOut="HideTip('tt44')">getModuleGendocEncoding</a>.</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#oms-common.sh.Функции" >Функции</a></td><td class=SDescription></td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#oms-common.sh.Логированиесообщений" >Логирование сообщений</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#oms-common.sh.isLogLevelEnabled" >isLogLevelEnabled</a></td><td class=SDescription>Проверяет возможность вывода сообщения указанного уровня.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#oms-common.sh.logMessage" >logMessage</a></td><td class=SDescription>Выводит сообщение, связанное с выполнением скрипта, в stderr.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#oms-common.sh.logError" >logError</a></td><td class=SDescription>Выводит сообщение об ошибке.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#oms-common.sh.logWarning" >logWarning</a></td><td class=SDescription>Выводит предупреждение.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#oms-common.sh.logDebug" >logDebug</a></td><td class=SDescription>Выводит отладочное сообщение 1-го уровня отладки.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#oms-common.sh.logDebug2" >logDebug2</a></td><td class=SDescription>Выводит отладочное сообщение 2-го уровня отладки.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#oms-common.sh.logDebug3" >logDebug3</a></td><td class=SDescription>Выводит отладочное сообщение 3-го уровня отладки.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#oms-common.sh.logInitDebugInfo" >logInitDebugInfo</a></td><td class=SDescription>Вывод стартовой отладочной информации.</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#oms-common.sh.Выводсообщений" >Вывод сообщений</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#oms-common.sh.printMessage" >printMessage</a></td><td class=SDescription>Выводит сообщение в stdout, добавляя в качестве префикса имя выполняемого скрипта.</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#oms-common.sh.Завершениевыполнения" >Завершение выполнения</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#oms-common.sh.exitScript" >exitScript</a></td><td class=SDescription>Завершает выполнение скрипта.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#oms-common.sh.exitFatalError" >exitFatalError</a></td><td class=SDescription>Выводит сообщение о критической ошибке и завершает выполнение с указанным кодом.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#oms-common.sh.exitArgError" >exitArgError</a></td><td class=SDescription>Выводит сообщение об ошибке и завершает выполнение с кодом ошибки <a href="#oms-common.sh.E_ARG_ERROR" class=LVariable id=link46 onMouseOver="ShowTip(event, 'tt8', 'link46')" onMouseOut="HideTip('tt8')">E_ARG_ERROR</a>.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#oms-common.sh.exitError" >exitError</a></td><td class=SDescription>Выводит сообщение об ошибке и завершает выполнение с кодом ошибки <a href="#oms-common.sh.E_PROCESS_ERROR" class=LVariable id=link47 onMouseOver="ShowTip(event, 'tt9', 'link47')" onMouseOut="HideTip('tt9')">E_PROCESS_ERROR</a>.</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#oms-common.sh.Обработкааргументоввызова" >Обработка аргументов вызова</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#oms-common.sh.setDebugLevel" >setDebugLevel</a></td><td class=SDescription>Устанавливает уровень вывода отладочной информации. </td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#oms-common.sh.setDryRun" >setDryRun</a></td><td class=SDescription>Устанавливает режим &ldquo;холостого&rdquo; запуска, когда вместо внесения изменений выводится текст команд, которые должны были быть выполнены.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#oms-common.sh.showVersion" >showVersion</a></td><td class=SDescription>Выводит информацию о версии.</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#oms-common.sh.ИнформацияизSubversion" >Информация из Subversion</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#oms-common.sh.getSvnModuleRoot" >getSvnModuleRoot</a></td><td class=SDescription>Определяет URL и путь к корневому каталогу модуля в Subversion.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#oms-common.sh.getSvnInitialPath" >getSvnInitialPath</a></td><td class=SDescription>Определяет первоначальный путь к корневому каталогу модуля в Subversion.</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#oms-common.sh.Другие" >Другие</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#oms-common.sh.getFileObject" >getFileObject</a></td><td class=SDescription>Определяет имя и тип объекта БД, которому соответствует файл. </td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#oms-common.sh.getModuleGendocEncoding" >getModuleGendocEncoding</a></td><td class=SDescription>Returns encoding of module&rsquo;s documentation.</td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.Переменные"></a>Переменные</h3></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.Информацияоверсии"></a>Информация о версии</h3></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.omsSvnRoot"></a>omsSvnRoot</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>omsSvnRoot='Oracle/Module/OraMakeSystem'</td></tr></table></blockquote><p>Путь к корневому каталогу OMS в Subversion ( начиная с имени репозитария).</p></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.omsInitialSvnPath"></a>omsInitialSvnPath</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>omsInitialSvnPath='Oracle/Module/OraMakeSystem@633'</td></tr></table></blockquote><p>Первоначальный путь к корневому каталогу OMS в Subversion ( начиная с имени репозитария и с указанием номера правки, в которой был создан каталог).</p></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.commonRevisionValue"></a>commonRevisionValue</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>commonRevisionValue='$Revision:: 26056103 $'</td></tr></table></blockquote><p>Строка с номером последней правки, в которой был изменен файл</p></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.commonChangeDateValue"></a>commonChangeDateValue</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>commonChangeDateValue='$Date:: 2019-07-17 15:23:16 +0300 #$'</td></tr></table></blockquote><p>Строка с последней датой изменения файла</p></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.commonRevision"></a>commonRevision</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>commonRevision=$(</td><td class=PParameter nowrap>( ${commonRevisionValue:12:${#commonRevisionValue}-13} )</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p>Номер последней правки, в которой был изменен файл.</p></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.commonChangeDate"></a>commonChangeDate</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>commonChangeDate=${commonChangeDateValue:8:26}</td></tr></table></blockquote><p>Дата последнего изменения файла.</p></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.Кодыошибок"></a>Коды ошибок</h3></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.E_FALSE_RESULT"></a>E_FALSE_RESULT</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>E_FALSE_RESULT=1</td></tr></table></blockquote><p>Код возврата в случае отрицательного результата выполнения.</p></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.E_ARG_ERROR"></a>E_ARG_ERROR</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>E_ARG_ERROR=10</td></tr></table></blockquote><p>Код ошибки из-за неверных агрументов.</p></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.E_PROCESS_ERROR"></a>E_PROCESS_ERROR</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>E_PROCESS_ERROR=11</td></tr></table></blockquote><p>Код ошибки обработки</p></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.Уровнилогируемыхсообщений"></a>Уровни логируемых сообщений</h3></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.FATAL_LOG_LEVEL"></a>FATAL_LOG_LEVEL</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>FATAL_LOG_LEVEL=1</td></tr></table></blockquote><p>Сообщение о критической ошибке, вызывающей аварийное завершение выполнения.</p></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.ERROR_LOG_LEVEL"></a>ERROR_LOG_LEVEL</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>ERROR_LOG_LEVEL=2</td></tr></table></blockquote><p>Сообщение об ошибке.</p></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.WARNING_LOG_LEVEL"></a>WARNING_LOG_LEVEL</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>WARNING_LOG_LEVEL=3</td></tr></table></blockquote><p>Предупреждение.</p></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.INFO_LOG_LEVEL"></a>INFO_LOG_LEVEL</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>INFO_LOG_LEVEL=4</td></tr></table></blockquote><p>Информационное сообщение.</p></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.DEBUG_LOG_LEVEL"></a>DEBUG_LOG_LEVEL</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>DEBUG_LOG_LEVEL=5</td></tr></table></blockquote><p>Отладочное сообщение 1-го уровня.</p></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.DEBUG2_LOG_LEVEL"></a>DEBUG2_LOG_LEVEL</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>DEBUG2_LOG_LEVEL=6</td></tr></table></blockquote><p>Отладочное сообщение 2-го уровня.</p></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.DEBUG3_LOG_LEVEL"></a>DEBUG3_LOG_LEVEL</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>DEBUG3_LOG_LEVEL=7</td></tr></table></blockquote><p>Отладочное сообщение 3-го уровня.</p></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.Исполняемыйскрипт"></a>Исполняемый скрипт</h3></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.scriptName"></a>scriptName</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>scriptName=${0##*/}</td></tr></table></blockquote><p>Имя основного скрипта ( без пути).</p></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.scriptRevision"></a>scriptRevision</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>scriptRevision=$(</td><td class=PParameter nowrap>( ${fileRevisionValue:12:${#fileRevisionValue}-13} )</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p>Номер последней правки, в которой был изменен файл основного скрипта.&nbsp; Значение определяется по переменной &lt;fileRevisionValue&gt;, которая должна быть объявлена и инициализирована в основном скрипте.</p></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.scriptChangeDate"></a>scriptChangeDate</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>scriptChangeDate=${fileChangeDateValue:8:26}</td></tr></table></blockquote><p>Дата последнего изменения файла основного скрипта.&nbsp; Значение определяется по переменной &lt;fileChangeDateValue&gt;, которая должна быть объявлена и инициализирована в основном скрипте.</p></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.scriptArgumentList"></a>scriptArgumentList</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>scriptArgumentList=(</td><td class=PParameter nowrap>&quot;$@&quot;</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p>Параметры вызова скрипта ( сохраняются для отладки)</p></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.Настроечныепараметры"></a>Настроечные параметры</h3></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.svnCmd"></a>svnCmd</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>svnCmd=&quot;svn&quot;</td></tr></table></blockquote><p>Исполняемый файл Subversion.</p></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.installShareDir"></a>installShareDir</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>installShareDir=&quot;${OMS_INSTALL_SHARE_DIR:-/usr/local/share/oms}&quot;</td></tr></table></blockquote><p>Путь к каталогу с данными OMS ( за исключением скриптов и настроек)</p></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.sqlScriptDir"></a>sqlScriptDir</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>sqlScriptDir=&quot;${installShareDir}/SqlScript&quot;</td></tr></table></blockquote><p>Каталог со стандартными SQL-скриптами</p></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.configDir"></a>configDir</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>configDir=&quot;${OMS_CONFIG_DIR:-/usr/local/etc/oms}&quot;</td></tr></table></blockquote><p>Каталог с настройками.</p></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.templateDir"></a>templateDir</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>templateDir=&quot;${installShareDir}/Data/NewModule&quot;</td></tr></table></blockquote><p>Каталог с шаблоном нового модуля.</p></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.templatePackageName"></a>templatePackageName</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>templatePackageName=&quot;pkg_NewModule&quot;</td></tr></table></blockquote><p>Базовое имя ( без расширения) файлов с шаблоном пакета Oracle.</p></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.patchConfigDir"></a>patchConfigDir</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>patchConfigDir=&quot;$configDir/UpdateModule&quot;</td></tr></table></blockquote><p>Настроечный каталог с патчами для обновления файлов модуля.</p></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.moduleOmsDir"></a>moduleOmsDir</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>moduleOmsDir=&quot;DB/OmsModule&quot;</td></tr></table></blockquote><p>Каталог с файлами OMS внутри прикладного модуля.</p></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.moduleOperatorLoginScript"></a>moduleOperatorLoginScript</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>moduleOperatorLoginScript=&quot;OmsModule/operatorLoginScript.sh&quot;</td></tr></table></blockquote><p>Скрипт регистрации оператора внутри прикладного модуля.</p></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.tmpFileDir"></a>tmpFileDir</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>tmpFileDir=&quot;${TEMP:-/tmp}&quot;</td></tr></table></blockquote><p>Каталог для временных файлов</p></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.tmpFile"></a>tmpFile</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>tmpFile=&quot;${tmpFileDir}/${scriptName}.$$&quot;</td></tr></table></blockquote><p>Временный файл для использования в скрипте.</p></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.fileExtensionList"></a>fileExtensionList</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters colspan=4>fileExtensionList=(</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class=PTypePrefix nowrap>jav:JAVA\ SOURCE: pks:PACKAGE:u pkb:PACKAGE\ BODY:u prc:PROCEDURE:u snp:MATERIALIZED\ VIEW:u sqs:SEQUENCE:u tab:TABLE:u trg:TRIGGER:u typ:TYPE:u tyb:TYPE\&nbsp;</td><td class=PType nowrap>BODY:u&nbsp;</td><td class=PParameter nowrap width=100%>vw:VIEW:u</td></tr><tr><td class=PAfterParameters colspan=4>)</td></tr></table></td></tr></table></blockquote><p>Список настроек по расширениям файлов ( в соответствии с соглашениями <a href="../Doc/Agreement/files-txt.html#Файлы" class=LSection >Файлы</a>).&nbsp; Формат элемента списка: последовательность полей с разделитем двоеточие.&nbsp; Поля элемента списка:</p><ul><li>расширение файла ( без точки)</li><li>соответствующий тип объекта в БД ( если есть)</li><li>способ получения имени объекта в БД по имени файла без расширения ( по умолчанию точное соответствие, &ldquo;u&rdquo; перевод в верхний регистр)</li></ul><h4 class=CHeading>Замечания</h4><ul><li>значение переменной передается SQL-скриптам через oms_file_extension_list ( с разделителем элементов запятая) и используется в скрипте <a href="../SqlScript/oms-run-sql.html#oms-run.sql" class=LFile id=link48 onMouseOver="ShowTip(event, 'tt45', 'link48')" onMouseOut="HideTip('tt45')">oms-run.sql</a>;</li></ul></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.Параметрывызова"></a>Параметры вызова</h3></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.logLevel"></a>logLevel</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>logLevel=$(</td><td class=PParameter nowrap>( INFO_LOG_LEVEL + ${OMS_DEBUG_LEVEL:-0} )</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p>Уровень вывода сообщений о выполнении скрипта.&nbsp; Может быть изменен с помощью опции --debug-level.</p></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.isDryRun"></a>isDryRun</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>isDryRun=0</td></tr></table></blockquote><p>Признак тестового запуска ( только печать команд без выполнения).&nbsp; Устаналивается в функции <a href="#oms-common.sh.setDryRun" class=LFunction id=link49 onMouseOver="ShowTip(event, 'tt46', 'link49')" onMouseOut="HideTip('tt46')">setDryRun</a>.</p></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.runCmd"></a>runCmd</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>runCmd=&quot;&quot;</td></tr></table></blockquote><p>Выполнение команды ( в случае <a href="#oms-common.sh.isDryRun" class=LVariable id=link50 onMouseOver="ShowTip(event, 'tt34', 'link50')" onMouseOut="HideTip('tt34')">isDryRun</a> указывается &ldquo;echo&rdquo;, иначе пустая строка).&nbsp; Устаналивается в функции <a href="#oms-common.sh.setDryRun" class=LFunction id=link51 onMouseOver="ShowTip(event, 'tt46', 'link51')" onMouseOut="HideTip('tt46')">setDryRun</a>.</p></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.Возвращаемыефункциямизначения"></a>Возвращаемые функциями значения</h3></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.svnModuleRoot"></a>svnModuleRoot</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>svnModuleRoot=&quot;&quot;</td></tr></table></blockquote><p>Путь к корневому каталогу модуля в Subversion ( начиная с репозитария) Устанавливается в функции <a href="#oms-common.sh.getSvnModuleRoot" class=LFunction id=link52 onMouseOver="ShowTip(event, 'tt37', 'link52')" onMouseOut="HideTip('tt37')">getSvnModuleRoot</a>.</p></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.svnModuleRootUrl"></a>svnModuleRootUrl</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>svnModuleRootUrl=&quot;&quot;</td></tr></table></blockquote><p>URL корневого каталога модуля в Subversion.&nbsp; Устанавливается в функции <a href="#oms-common.sh.getSvnModuleRoot" class=LFunction id=link53 onMouseOver="ShowTip(event, 'tt37', 'link53')" onMouseOut="HideTip('tt37')">getSvnModuleRoot</a>.</p></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.svnModuleRootFilePath"></a>svnModuleRootFilePath</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>svnModuleRootFilePath=&quot;&quot;</td></tr></table></blockquote><p>Путь в Subversion, из которого были получены файлы модуля ( начиная с имени репозитария).&nbsp; Устанавливается в функции <a href="#oms-common.sh.getSvnModuleRoot" class=LFunction id=link54 onMouseOver="ShowTip(event, 'tt37', 'link54')" onMouseOut="HideTip('tt37')">getSvnModuleRoot</a>.</p></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.svnInitialPath"></a>svnInitialPath</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>svnInitialPath=&quot;&quot;</td></tr></table></blockquote><p>Первоначальный путь к корневому каталогу модуля в Subversion.&nbsp; Устанавливается в функции <a href="#oms-common.sh.getSvnInitialPath" class=LFunction id=link55 onMouseOver="ShowTip(event, 'tt47', 'link55')" onMouseOut="HideTip('tt47')">getSvnInitialPath</a>.</p></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.fileObjectName"></a>fileObjectName</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>fileObjectName=&quot;&quot;</td></tr></table></blockquote><p>Имя объекта БД, которому соответствует файл.&nbsp; Устанавливается в функции <a href="#oms-common.sh.getFileObject" class=LFunction id=link56 onMouseOver="ShowTip(event, 'tt48', 'link56')" onMouseOut="HideTip('tt48')">getFileObject</a>.</p></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.fileObjectType"></a>fileObjectType</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>fileObjectType=&quot;&quot;</td></tr></table></blockquote><p>Тип объекта БД, которому соответствует файл.&nbsp; Устанавливается в функции <a href="#oms-common.sh.getFileObject" class=LFunction id=link57 onMouseOver="ShowTip(event, 'tt48', 'link57')" onMouseOut="HideTip('tt48')">getFileObject</a>.</p></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.moduleGendocEncoding"></a>moduleGendocEncoding</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>moduleGendocEncoding=&quot;&quot;</td></tr></table></blockquote><p>Encoding of module&rsquo;s documentation ( enconding name for iconv) Is set in <a href="#oms-common.sh.getModuleGendocEncoding" class=LFunction id=link58 onMouseOver="ShowTip(event, 'tt44', 'link58')" onMouseOut="HideTip('tt44')">getModuleGendocEncoding</a>.</p></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.Функции"></a>Функции</h3></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.Логированиесообщений"></a>Логирование сообщений</h3></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.isLogLevelEnabled"></a>isLogLevelEnabled</h3><div class=CBody><p>Проверяет возможность вывода сообщения указанного уровня.</p><h4 class=CHeading>Параметры</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>messageLevel</td><td class=CDLDescription>уровень сообщения</td></tr></table><h4 class=CHeading>Возврат</h4><p>0 если вывод разрешен, иначе 1.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.logMessage"></a>logMessage</h3><div class=CBody><p>Выводит сообщение, связанное с выполнением скрипта, в stderr.</p><h4 class=CHeading>Параметры</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>messageLevel</td><td class=CDLDescription>уровень сообщения</td></tr><tr><td class=CDLEntry>messageText</td><td class=CDLDescription>текст сообщения</td></tr><tr><td class=CDLEntry>...</td><td class=CDLDescription>дополнительные части текста сообщения</td></tr></table></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.logError"></a>logError</h3><div class=CBody><p>Выводит сообщение об ошибке.</p><h4 class=CHeading>Параметры</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>messageText</td><td class=CDLDescription>текст сообщения</td></tr><tr><td class=CDLEntry>...</td><td class=CDLDescription>дополнительные части текста сообщения</td></tr></table></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.logWarning"></a>logWarning</h3><div class=CBody><p>Выводит предупреждение.</p><h4 class=CHeading>Параметры</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>messageText</td><td class=CDLDescription>текст сообщения</td></tr><tr><td class=CDLEntry>...</td><td class=CDLDescription>дополнительные части текста сообщения</td></tr></table></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.logDebug"></a>logDebug</h3><div class=CBody><p>Выводит отладочное сообщение 1-го уровня отладки.</p><h4 class=CHeading>Параметры</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>messageText</td><td class=CDLDescription>текст сообщения</td></tr><tr><td class=CDLEntry>...</td><td class=CDLDescription>дополнительные части текста сообщения</td></tr></table></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.logDebug2"></a>logDebug2</h3><div class=CBody><p>Выводит отладочное сообщение 2-го уровня отладки.</p><h4 class=CHeading>Параметры</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>messageText</td><td class=CDLDescription>текст сообщения</td></tr><tr><td class=CDLEntry>...</td><td class=CDLDescription>дополнительные части текста сообщения</td></tr></table></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.logDebug3"></a>logDebug3</h3><div class=CBody><p>Выводит отладочное сообщение 3-го уровня отладки.</p><h4 class=CHeading>Параметры</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>messageText</td><td class=CDLDescription>текст сообщения</td></tr><tr><td class=CDLEntry>...</td><td class=CDLDescription>дополнительные части текста сообщения</td></tr></table></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.logInitDebugInfo"></a>logInitDebugInfo</h3><div class=CBody><p>Вывод стартовой отладочной информации.</p></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.Выводсообщений"></a>Вывод сообщений</h3></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.printMessage"></a>printMessage</h3><div class=CBody><p>Выводит сообщение в stdout, добавляя в качестве префикса имя выполняемого скрипта.</p><h4 class=CHeading>Параметры</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>messageText</td><td class=CDLDescription>текст сообщения</td></tr><tr><td class=CDLEntry>...</td><td class=CDLDescription>дополнительные части текста сообщения</td></tr></table></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.Завершениевыполнения"></a>Завершение выполнения</h3></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.exitScript"></a>exitScript</h3><div class=CBody><p>Завершает выполнение скрипта.</p><h4 class=CHeading>Параметры</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>exitCode</td><td class=CDLDescription>код завершения выполнения ( по умолчанию 0)</td></tr></table></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.exitFatalError"></a>exitFatalError</h3><div class=CBody><p>Выводит сообщение о критической ошибке и завершает выполнение с указанным кодом.</p><h4 class=CHeading>Параметры</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>exitCode</td><td class=CDLDescription>код завершения выполнения</td></tr><tr><td class=CDLEntry>messageText</td><td class=CDLDescription>текст сообщения</td></tr><tr><td class=CDLEntry>...</td><td class=CDLDescription>дополнительные части текста сообщения</td></tr></table></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.exitArgError"></a>exitArgError</h3><div class=CBody><p>Выводит сообщение об ошибке и завершает выполнение с кодом ошибки <a href="#oms-common.sh.E_ARG_ERROR" class=LVariable id=link59 onMouseOver="ShowTip(event, 'tt8', 'link59')" onMouseOut="HideTip('tt8')">E_ARG_ERROR</a>.</p><h4 class=CHeading>Параметры</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>messageText</td><td class=CDLDescription>текст сообщения</td></tr><tr><td class=CDLEntry>...</td><td class=CDLDescription>дополнительные части текста сообщения</td></tr></table></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.exitError"></a>exitError</h3><div class=CBody><p>Выводит сообщение об ошибке и завершает выполнение с кодом ошибки <a href="#oms-common.sh.E_PROCESS_ERROR" class=LVariable id=link60 onMouseOver="ShowTip(event, 'tt9', 'link60')" onMouseOut="HideTip('tt9')">E_PROCESS_ERROR</a>.</p><h4 class=CHeading>Параметры</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>messageText</td><td class=CDLDescription>текст сообщения</td></tr><tr><td class=CDLEntry>...</td><td class=CDLDescription>дополнительные части текста сообщения</td></tr></table></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.Обработкааргументоввызова"></a>Обработка аргументов вызова</h3></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.setDebugLevel"></a>setDebugLevel</h3><div class=CBody><p>Устанавливает уровень вывода отладочной информации.&nbsp; Функция используется для обработки стандартной опции &ldquo;--debug-level&rdquo; командной строки.</p><h4 class=CHeading>Параметр</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>debugLevel</td><td class=CDLDescription>уровень отладки ( 1 соответствует <a href="#oms-common.sh.DEBUG_LOG_LEVEL" class=LVariable id=link61 onMouseOver="ShowTip(event, 'tt14', 'link61')" onMouseOut="HideTip('tt14')">DEBUG_LOG_LEVEL</a>, 2 для <a href="#oms-common.sh.DEBUG2_LOG_LEVEL" class=LVariable id=link62 onMouseOver="ShowTip(event, 'tt15', 'link62')" onMouseOut="HideTip('tt15')">DEBUG2_LOG_LEVEL</a> и т.д.)</td></tr></table><h4 class=CHeading>Замечания</h4><ul><li>допустимо указание нулевого или отрицательных значений, при этом уровень будет уменьшен ( 0 для <a href="#oms-common.sh.INFO_LOG_LEVEL" class=LVariable id=link63 onMouseOver="ShowTip(event, 'tt13', 'link63')" onMouseOut="HideTip('tt13')">INFO_LOG_LEVEL</a>, -1 для <a href="#oms-common.sh.WARNING_LOG_LEVEL" class=LVariable id=link64 onMouseOver="ShowTip(event, 'tt12', 'link64')" onMouseOut="HideTip('tt12')">WARNING_LOG_LEVEL</a> и т.д.);</li><li>в случае включения отладочных сообщений вызывается функция <a href="#oms-common.sh.logInitDebugInfo" class=LFunction id=link65 onMouseOver="ShowTip(event, 'tt49', 'link65')" onMouseOut="HideTip('tt49')">logInitDebugInfo</a> для вывода стартовой отладочной информации;</li></ul></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.setDryRun"></a>setDryRun</h3><div class=CBody><p>Устанавливает режим &ldquo;холостого&rdquo; запуска, когда вместо внесения изменений выводится текст команд, которые должны были быть выполнены.</p><h4 class=CHeading>Замечания</h4><ul><li>в результате выполнения функции выставляются значения переменным <a href="#oms-common.sh.isDryRun" class=LVariable id=link66 onMouseOver="ShowTip(event, 'tt34', 'link66')" onMouseOut="HideTip('tt34')">isDryRun</a> и <a href="#oms-common.sh.runCmd" class=LVariable id=link67 onMouseOver="ShowTip(event, 'tt35', 'link67')" onMouseOut="HideTip('tt35')">runCmd</a>, которые должны использоваться в скриптах при для вывода текста команд вместо их выполнения;</li></ul></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.showVersion"></a>showVersion</h3><div class=CBody><p>Выводит информацию о версии.</p></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.ИнформацияизSubversion"></a>Информация из Subversion</h3></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.getSvnModuleRoot"></a>getSvnModuleRoot</h3><div class=CBody><p>Определяет URL и путь к корневому каталогу модуля в Subversion.</p><h4 class=CHeading>Параметры</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>modulePath</td><td class=CDLDescription>локальный путь к корневому каталогу модуля</td></tr></table><h4 class=CHeading>Возврат</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>&lt;svnModuleRoot&gt;</td><td class=CDLDescription>путь к корневому каталогу модуля в Subversion ( начиная с имени репозитария)</td></tr><tr><td class=CDLEntry>&lt;svnModuleRootFilePath&gt;</td><td class=CDLDescription>путь в Subversion, из которого были получены файлы модуля ( начиная с имени репозитария)</td></tr><tr><td class=CDLEntry>&lt;svnModuleRootUrl&gt;</td><td class=CDLDescription>URL корневого каталога модуля в Subversion</td></tr></table></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.getSvnInitialPath"></a>getSvnInitialPath</h3><div class=CBody><p>Определяет первоначальный путь к корневому каталогу модуля в Subversion.</p><h4 class=CHeading>Параметры</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>rootUrl</td><td class=CDLDescription>URL корневого каталога модуля</td></tr></table><h4 class=CHeading>Возврат</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>&lt;svnInitialPath&gt;</td><td class=CDLDescription>первоначальный путь к корневому каталогу модуля ( включая номер правки, в которой он был создан, например, &ldquo;Oracle/Module/OraMakeSystem@350&rdquo;)</td></tr></table><h4 class=CHeading>Замечания</h4><ul><li>первоначальный путь определяется только по текущему репозитарию, переносы между репозитариями не учитываются;</li></ul></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.Другие"></a>Другие</h3></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.getFileObject"></a>getFileObject</h3><div class=CBody><p>Определяет имя и тип объекта БД, которому соответствует файл.&nbsp; Результат определяется на основании настроечной переменной <a href="#oms-common.sh.fileExtensionList" class=LVariable id=link68 onMouseOver="ShowTip(event, 'tt32', 'link68')" onMouseOut="HideTip('tt32')">fileExtensionList</a>.</p><h4 class=CHeading>Параметры</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>filePath</td><td class=CDLDescription>путь к файлу</td></tr></table><h4 class=CHeading>Возврат</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>&lt;fileObjectName&gt;</td><td class=CDLDescription>имя объекта в БД</td></tr><tr><td class=CDLEntry>&lt;fileObjectType&gt;</td><td class=CDLDescription>тип объекта в БД</td></tr></table></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="oms-common.sh.getModuleGendocEncoding"></a>getModuleGendocEncoding</h3><div class=CBody><p>Returns encoding of module&rsquo;s documentation.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>modulePath</td><td class=CDLDescription>Path to root directory of module ( empty string for new module)</td></tr></table><h4 class=CHeading>Return</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>&lt;moduleGendocEncoding&gt;</td><td class=CDLDescription>Encoding of module&rsquo;s documentation ( enconding name for iconv)</td></tr></table></div></div></div>

</div><!--Content-->


<div id=Footer><a href="http://www.naturaldocs.org">Generated by Natural Docs</a></div><!--Footer-->


<div id=Menu><div class=MTitle>OraMakeSystem<div class=MSubTitle>Версия 2.2.0</div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent1')">О проекте</a><div class=MGroupContent id=MGroupContent1><div class=MEntry><div class=MFile><a href="../Doc/readme-txt.html">Описание</a></div></div><div class=MEntry><div class=MFile><a href="../Doc/install-txt.html">Установка</a></div></div><div class=MEntry><div class=MFile><a href="../Doc/todo-txt.html">Доработки</a></div></div><div class=MEntry><div class=MFile><a href="../Doc/bugs-txt.html">Ошибки</a></div></div><div class=MEntry><div class=MFile><a href="../Makefile-.html">Сборка</a></div></div><div class=MEntry><div class=MFile><a href="../Doc/version-txt.html">Версии</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent2')">Соглашения по оформлению модуля</a><div class=MGroupContent id=MGroupContent2><div class=MEntry><div class=MFile><a href="../Doc/Agreement/directory_tree-txt.html">Структура каталогов</a></div></div><div class=MEntry><div class=MFile><a href="../Doc/Agreement/files-txt.html">Файлы</a></div></div><div class=MEntry><div class=MFile><a href="../Doc/Agreement/comment-txt.html">Комментарии</a></div></div><div class=MEntry><div class=MFile><a href="../Doc/Agreement/doc_menu_tree-txt.html">Меню документации</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent4')">Примеры</a><div class=MGroupContent id=MGroupContent4><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent3')">Интеграция с KeePass</a><div class=MGroupContent id=MGroupContent3><div class=MEntry><div class=MFile><a href="../Doc/Example/KeePass/get-password-.html">get-password(for KeePass)</a></div></div></div></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent5')">Скрипты</a><div class=MGroupContent id=MGroupContent5><div class=MEntry><div class=MFile><a href="create-patch-.html">create-patch</a></div></div><div class=MEntry><div class=MFile><a href="oms-.html">oms</a></div></div><div class=MEntry><div class=MFile><a href="oms-auto-doc-.html">oms-auto-doc</a></div></div><div class=MEntry><div class=MFile id=MSelected>oms-common.sh</div></div><div class=MEntry><div class=MFile><a href="oms-connect-info-.html">oms-connect-info</a></div></div><div class=MEntry><div class=MFile><a href="oms-file-menu-awk.html">oms-file-menu</a></div></div><div class=MEntry><div class=MFile><a href="oms-gen-spec-.html">oms-gen-spec</a></div></div><div class=MEntry><div class=MFile><a href="oms-gen-spec-awk.html">oms-gen-spec.awk</a></div></div><div class=MEntry><div class=MFile><a href="oms-load-.html">oms-load</a></div></div><div class=MEntry><div class=MFile><a href="oms-module-.html">oms-module( DEPRECATED)</a></div></div><div class=MEntry><div class=MFile><a href="oms-update-module-.html">oms-update-module</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent9')">SQL-скрипты</a><div class=MGroupContent id=MGroupContent9><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent6')">OmsInternal</a><div class=MGroupContent id=MGroupContent6><div class=MEntry><div class=MFile><a href="../SqlScript/OmsInternal/exec-batch-operation-sql.html">exec-batch-operation</a></div></div><div class=MEntry><div class=MFile><a href="../SqlScript/OmsInternal/finish-install-file-sql.html">finish-install-file</a></div></div><div class=MEntry><div class=MFile><a href="../SqlScript/OmsInternal/install-version-operation-sql.html">install-version-operation.sql</a></div></div><div class=MEntry><div class=MFile><a href="../SqlScript/OmsInternal/nothing-sql.html">nothing</a></div></div><div class=MEntry><div class=MFile><a href="../SqlScript/OmsInternal/set-environment-sql.html">set-environment</a></div></div><div class=MEntry><div class=MFile><a href="../SqlScript/OmsInternal/start-install-file-sql.html">start-install-file</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent7')">Используемые в OMS</a><div class=MGroupContent id=MGroupContent7><div class=MEntry><div class=MFile><a href="../SqlScript/oms-check-lock-sql.html">oms-check-lock</a></div></div><div class=MEntry><div class=MFile><a href="../SqlScript/oms-compile-invalid-sql.html">oms-compile-invalid</a></div></div><div class=MEntry><div class=MFile><a href="../SqlScript/oms-init-var-sql.html">oms-init-var</a></div></div><div class=MEntry><div class=MFile><a href="../SqlScript/oms-save-grant-info-sql.html">oms-save-grant-info</a></div></div><div class=MEntry><div class=MFile><a href="../SqlScript/oms-save-install-info-sql.html">oms-save-install-info</a></div></div><div class=MEntry><div class=MFile><a href="../SqlScript/oms-save-uninstall-info-sql.html">oms-save-uninstall-info</a></div></div><div class=MEntry><div class=MFile><a href="../SqlScript/oms-show-invalid-sql.html">oms-show-invalid</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent8')">Прикладные</a><div class=MGroupContent id=MGroupContent8><div class=MEntry><div class=MFile><a href="../SqlScript/oms-activate-batch-sql.html">oms-activate-batch</a></div></div><div class=MEntry><div class=MFile><a href="../SqlScript/oms-check-grant-version-sql.html">oms-check-grant-version.sql</a></div></div><div class=MEntry><div class=MFile><a href="../SqlScript/oms-check-install-version-sql.html">oms-check-install-version.sql</a></div></div><div class=MEntry><div class=MFile><a href="../SqlScript/oms-check-uninstall-version-sql.html">oms-check-uninstall-version.sql</a></div></div><div class=MEntry><div class=MFile><a href="../SqlScript/oms-deactivate-batch-sql.html">oms-deactivate-batch</a></div></div><div class=MEntry><div class=MFile><a href="../SqlScript/oms-default-sql.html">oms-default</a></div></div><div class=MEntry><div class=MFile><a href="../SqlScript/oms-default-with-test-sql.html">oms-default-with-test</a></div></div><div class=MEntry><div class=MFile><a href="../SqlScript/oms-drop-foreign-key-sql.html">oms-drop-foreign-key</a></div></div><div class=MEntry><div class=MFile><a href="../SqlScript/oms-drop-mview-sql.html">oms-drop-mview</a></div></div><div class=MEntry><div class=MFile><a href="../SqlScript/oms-drop-type-sql.html">oms-drop-type</a></div></div><div class=MEntry><div class=MFile><a href="../SqlScript/oms-gather-stats-sql.html">oms-gather-stats</a></div></div><div class=MEntry><div class=MFile><a href="../SqlScript/oms-get-db-link-sql.html">oms-get-db-link</a></div></div><div class=MEntry><div class=MFile><a href="../SqlScript/oms-reactivate-batch-sql.html">oms-reactivate-batch</a></div></div><div class=MEntry><div class=MFile><a href="../SqlScript/oms-recreate-mview-sql.html">oms-recreate-mview.sql</a></div></div><div class=MEntry><div class=MFile><a href="../SqlScript/oms-refresh-mview-sql.html">oms-refresh-mview</a></div></div><div class=MEntry><div class=MFile><a href="../SqlScript/oms-resume-batch-sql.html">oms-resume-batch</a></div></div><div class=MEntry><div class=MFile><a href="../SqlScript/oms-run-sql.html">oms-run</a></div></div><div class=MEntry><div class=MFile><a href="../SqlScript/oms-set-indexTablespace-sql.html">oms-set-indexTablespace</a></div></div><div class=MEntry><div class=MFile><a href="../SqlScript/oms-set-lobTablespace-sql.html">oms-set-lobTablespace</a></div></div><div class=MEntry><div class=MFile><a href="../SqlScript/oms-stop-batch-sql.html">oms-stop-batch</a></div></div><div class=MEntry><div class=MFile><a href="../SqlScript/oms-unindexed-foreign-key-sql.html">oms-unindexed-foreign-key</a></div></div></div></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent11')">Настройки</a><div class=MGroupContent id=MGroupContent11><div class=MEntry><div class=MFile><a href="../Config/Default/database-mk.html">Настройки баз данных</a></div></div><div class=MEntry><div class=MFile><a href="../Config/Default/connect-sh.html">Настройки соединения</a></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent10')">Файлы для обратной совместимости</a><div class=MGroupContent id=MGroupContent10><div class=MEntry><div class=MFile><a href="../Config/Legacy/local-mk.html">local.mk</a></div></div><div class=MEntry><div class=MFile><a href="../Config/Legacy/localCustom-mk.html">localCustom.mk</a></div></div></div></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent13')">Шаблон модуля</a><div class=MGroupContent id=MGroupContent13><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent12')">О модуле</a><div class=MGroupContent id=MGroupContent12><div class=MEntry><div class=MFile><a href="../Data/NewModule/DB/Doc/readme-txt.html">Описание</a></div></div><div class=MEntry><div class=MFile><a href="../Data/NewModule/DB/Doc/install-txt.html">Установка</a></div></div><div class=MEntry><div class=MFile><a href="../Data/NewModule/DB/Doc/bugs-txt.html">Ошибки</a></div></div><div class=MEntry><div class=MFile><a href="../Data/NewModule/DB/Doc/todo-txt.html">Доработки</a></div></div><div class=MEntry><div class=MFile><a href="../Data/NewModule/DB/Makefile-.html">Сборка</a></div></div><div class=MEntry><div class=MFile><a href="../Data/NewModule/DB/Doc/version-txt.html">Версии</a></div></div></div></div></div><div class=MEntry><div class=MFile><a href="../Data/NewModule/DB/OmsModule/init-mk.html">Инициализация OMS</a></div></div><div class=MEntry><div class=MFile><a href="../Data/NewModule/DB/OmsModule/common-mk.html">Сборка OMS</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent15')">Индекс</a><div class=MGroupContent id=MGroupContent15><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent14')">Реализация</a><div class=MGroupContent id=MGroupContent14><div class=MEntry><div class=MIndex><a href="../../index/Variables.html">Переменные</a></div></div><div class=MEntry><div class=MIndex><a href="../../index/Functions.html">Функции</a></div></div></div></div></div><div class=MEntry><div class=MIndex><a href="../../index/BuildFunctions.html">Функции сборки</a></div></div><div class=MEntry><div class=MIndex><a href="../../index/Files.html">Скрипты</a></div></div><div class=MEntry><div class=MIndex><a href="../../index/General.html">Все вместе</a></div></div></div></div></div><script type="text/javascript"><!--
var searchPanel = new SearchPanel("searchPanel", "HTML", "../../search");
--></script><div id=MSearchPanel class=MSearchPanelInactive><input type=text id=MSearchField value=Search onFocus="searchPanel.OnSearchFieldFocus(true)" onBlur="searchPanel.OnSearchFieldFocus(false)" onKeyUp="searchPanel.OnSearchFieldChange()"><select id=MSearchType onFocus="searchPanel.OnSearchTypeFocus(true)" onBlur="searchPanel.OnSearchTypeFocus(false)" onChange="searchPanel.OnSearchTypeChange()"><option  id=MSearchEverything selected value="General">Everything</option><option value="BuildFunctions">Build Functions</option><option value="Files">Files</option><option value="Functions">Functions</option><option value="Variables">Variables</option></select></div><script language=JavaScript><!--
HideAllBut([5, 4], 16);// --></script></div><!--Menu-->



<!--START_ND_TOOLTIPS-->
<div class=CToolTip id="tt1"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>omsSvnRoot='Oracle/Module/OraMakeSystem'</td></tr></table></blockquote>Путь к корневому каталогу OMS в Subversion ( начиная с имени репозитария).</div></div><div class=CToolTip id="tt2"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>omsInitialSvnPath='Oracle/Module/OraMakeSystem@633'</td></tr></table></blockquote>Первоначальный путь к корневому каталогу OMS в Subversion ( начиная с имени репозитария и с указанием номера правки, в которой был создан каталог).</div></div><div class=CToolTip id="tt3"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>commonRevisionValue='$Revision:: 26056103 $'</td></tr></table></blockquote>Строка с номером последней правки, в которой был изменен файл</div></div><div class=CToolTip id="tt4"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>commonChangeDateValue='$Date:: 2019-07-17 15:23:16 +0300 #$'</td></tr></table></blockquote>Строка с последней датой изменения файла</div></div><div class=CToolTip id="tt5"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>commonRevision=$(</td><td class=PParameter nowrap>( ${commonRevisionValue:12:${#commonRevisionValue}-13} )</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Номер последней правки, в которой был изменен файл.</div></div><div class=CToolTip id="tt6"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>commonChangeDate=${commonChangeDateValue:8:26}</td></tr></table></blockquote>Дата последнего изменения файла.</div></div><div class=CToolTip id="tt7"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>E_FALSE_RESULT=1</td></tr></table></blockquote>Код возврата в случае отрицательного результата выполнения.</div></div><div class=CToolTip id="tt8"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>E_ARG_ERROR=10</td></tr></table></blockquote>Код ошибки из-за неверных агрументов.</div></div><div class=CToolTip id="tt9"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>E_PROCESS_ERROR=11</td></tr></table></blockquote>Код ошибки обработки</div></div><div class=CToolTip id="tt10"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>FATAL_LOG_LEVEL=1</td></tr></table></blockquote>Сообщение о критической ошибке, вызывающей аварийное завершение выполнения.</div></div><div class=CToolTip id="tt11"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>ERROR_LOG_LEVEL=2</td></tr></table></blockquote>Сообщение об ошибке.</div></div><div class=CToolTip id="tt12"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>WARNING_LOG_LEVEL=3</td></tr></table></blockquote>Предупреждение.</div></div><div class=CToolTip id="tt13"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>INFO_LOG_LEVEL=4</td></tr></table></blockquote>Информационное сообщение.</div></div><div class=CToolTip id="tt14"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>DEBUG_LOG_LEVEL=5</td></tr></table></blockquote>Отладочное сообщение 1-го уровня.</div></div><div class=CToolTip id="tt15"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>DEBUG2_LOG_LEVEL=6</td></tr></table></blockquote>Отладочное сообщение 2-го уровня.</div></div><div class=CToolTip id="tt16"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>DEBUG3_LOG_LEVEL=7</td></tr></table></blockquote>Отладочное сообщение 3-го уровня.</div></div><div class=CToolTip id="tt17"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>scriptName=${0##*/}</td></tr></table></blockquote>Имя основного скрипта ( без пути).</div></div><div class=CToolTip id="tt18"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>scriptRevision=$(</td><td class=PParameter nowrap>( ${fileRevisionValue:12:${#fileRevisionValue}-13} )</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Номер последней правки, в которой был изменен файл основного скрипта. </div></div><div class=CToolTip id="tt19"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>scriptChangeDate=${fileChangeDateValue:8:26}</td></tr></table></blockquote>Дата последнего изменения файла основного скрипта. </div></div><div class=CToolTip id="tt20"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>scriptArgumentList=(</td><td class=PParameter nowrap>&quot;$@&quot;</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Параметры вызова скрипта ( сохраняются для отладки)</div></div><div class=CToolTip id="tt21"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>svnCmd=&quot;svn&quot;</td></tr></table></blockquote>Исполняемый файл Subversion.</div></div><div class=CToolTip id="tt22"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>installShareDir=&quot;${OMS_INSTALL_SHARE_DIR:-/usr/local/share/oms}&quot;</td></tr></table></blockquote>Путь к каталогу с данными OMS ( за исключением скриптов и настроек)</div></div><div class=CToolTip id="tt23"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>sqlScriptDir=&quot;${installShareDir}/SqlScript&quot;</td></tr></table></blockquote>Каталог со стандартными SQL-скриптами</div></div><div class=CToolTip id="tt24"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>configDir=&quot;${OMS_CONFIG_DIR:-/usr/local/etc/oms}&quot;</td></tr></table></blockquote>Каталог с настройками.</div></div><div class=CToolTip id="tt25"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>templateDir=&quot;${installShareDir}/Data/NewModule&quot;</td></tr></table></blockquote>Каталог с шаблоном нового модуля.</div></div><div class=CToolTip id="tt26"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>templatePackageName=&quot;pkg_NewModule&quot;</td></tr></table></blockquote>Базовое имя ( без расширения) файлов с шаблоном пакета Oracle.</div></div><div class=CToolTip id="tt27"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>patchConfigDir=&quot;$configDir/UpdateModule&quot;</td></tr></table></blockquote>Настроечный каталог с патчами для обновления файлов модуля.</div></div><div class=CToolTip id="tt28"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>moduleOmsDir=&quot;DB/OmsModule&quot;</td></tr></table></blockquote>Каталог с файлами OMS внутри прикладного модуля.</div></div><div class=CToolTip id="tt29"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>moduleOperatorLoginScript=&quot;OmsModule/operatorLoginScript.sh&quot;</td></tr></table></blockquote>Скрипт регистрации оператора внутри прикладного модуля.</div></div><div class=CToolTip id="tt30"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>tmpFileDir=&quot;${TEMP:-/tmp}&quot;</td></tr></table></blockquote>Каталог для временных файлов</div></div><div class=CToolTip id="tt31"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>tmpFile=&quot;${tmpFileDir}/${scriptName}.$$&quot;</td></tr></table></blockquote>Временный файл для использования в скрипте.</div></div><div class=CToolTip id="tt32"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters colspan=4>fileExtensionList=(</td></tr><tr><td>&nbsp;&nbsp;&nbsp;</td><td class=PTypePrefix nowrap>jav:JAVA\ SOURCE: pks:PACKAGE:u pkb:PACKAGE\ BODY:u prc:PROCEDURE:u snp:MATERIALIZED\ VIEW:u sqs:SEQUENCE:u tab:TABLE:u trg:TRIGGER:u typ:TYPE:u tyb:TYPE\&nbsp;</td><td class=PType nowrap>BODY:u&nbsp;</td><td class=PParameter nowrap width=100%>vw:VIEW:u</td></tr><tr><td class=PAfterParameters colspan=4>)</td></tr></table></td></tr></table></blockquote>Список настроек по расширениям файлов ( в соответствии с соглашениями Файлы). </div></div><div class=CToolTip id="tt33"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>logLevel=$(</td><td class=PParameter nowrap>( INFO_LOG_LEVEL + ${OMS_DEBUG_LEVEL:-0} )</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Уровень вывода сообщений о выполнении скрипта. </div></div><div class=CToolTip id="tt34"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>isDryRun=0</td></tr></table></blockquote>Признак тестового запуска ( только печать команд без выполнения). </div></div><div class=CToolTip id="tt35"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>runCmd=&quot;&quot;</td></tr></table></blockquote>Выполнение команды ( в случае isDryRun указывается &ldquo;echo&rdquo;, иначе пустая строка). </div></div><div class=CToolTip id="tt36"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>svnModuleRoot=&quot;&quot;</td></tr></table></blockquote>Путь к корневому каталогу модуля в Subversion ( начиная с репозитария) Устанавливается в функции getSvnModuleRoot.</div></div><div class=CToolTip id="tt37"><div class=CFunction>Определяет URL и путь к корневому каталогу модуля в Subversion.</div></div><div class=CToolTip id="tt38"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>svnModuleRootUrl=&quot;&quot;</td></tr></table></blockquote>URL корневого каталога модуля в Subversion. </div></div><div class=CToolTip id="tt39"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>svnModuleRootFilePath=&quot;&quot;</td></tr></table></blockquote>Путь в Subversion, из которого были получены файлы модуля ( начиная с имени репозитария). </div></div><div class=CToolTip id="tt40"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>svnInitialPath=&quot;&quot;</td></tr></table></blockquote>Первоначальный путь к корневому каталогу модуля в Subversion. </div></div><div class=CToolTip id="tt41"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>fileObjectName=&quot;&quot;</td></tr></table></blockquote>Имя объекта БД, которому соответствует файл. </div></div><div class=CToolTip id="tt42"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>fileObjectType=&quot;&quot;</td></tr></table></blockquote>Тип объекта БД, которому соответствует файл. </div></div><div class=CToolTip id="tt43"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td>moduleGendocEncoding=&quot;&quot;</td></tr></table></blockquote>Encoding of module&rsquo;s documentation ( enconding name for iconv) Is set in getModuleGendocEncoding.</div></div><div class=CToolTip id="tt44"><div class=CFunction>Returns encoding of module&rsquo;s documentation.</div></div><div class=CToolTip id="tt45"><div class=CFile>Выполняет SQL-скрипт. </div></div><div class=CToolTip id="tt46"><div class=CFunction>Устанавливает режим &ldquo;холостого&rdquo; запуска, когда вместо внесения изменений выводится текст команд, которые должны были быть выполнены.</div></div><div class=CToolTip id="tt47"><div class=CFunction>Определяет первоначальный путь к корневому каталогу модуля в Subversion.</div></div><div class=CToolTip id="tt48"><div class=CFunction>Определяет имя и тип объекта БД, которому соответствует файл. </div></div><div class=CToolTip id="tt49"><div class=CFunction>Вывод стартовой отладочной информации.</div></div><!--END_ND_TOOLTIPS-->




<div id=MSearchResultsWindow><iframe src="" frameborder=0 name=MSearchResults id=MSearchResults></iframe><a href="javascript:searchPanel.CloseResultsWindow()" id=MSearchResultsWindowClose>Close</a></div>


<script language=JavaScript><!--
if (browserType) {if (browserVer) {document.write("</div>"); }document.write("</div>");}// --></script></body></html>