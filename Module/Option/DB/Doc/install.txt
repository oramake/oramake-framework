title: Установка

group: Общие замечания

Параметры установки:
INSTALL_VERSION               - устанавливаемая версия модуля ( Last при
                                первоначальной установке или номер при
                                обновлении, например 1.1.0)
LOAD_OPERATORID               - логин и пароль оператора, выполняющего установку
                                ( формат: login/password)
LOAD_USERID                   - основная схема для установки
                                ( формат: username/password@dbName)
LOAD_USERID2                  - пользователь, под которым создаются роли
                                для модуля AccessOperator
                                ( формат: username/password@dbName)
TO_USERNAME                   - имя пользователя, которому выдаются права
                                ( формат: username)


Дополнительные параметры:
PRODUCTION_DB_NAME            - может быть использован для явного задания
                                промышленной БД, к которой относится установка
                                ( при установке в тестовую БД
                                должно указываться имя соответствующей
                                промышленной БД, например,
                                PRODUCTION_DB_NAME=ProdDb), по
                                умолчанию значение определяется на основе
                                LOAD_USERID

Используемые настроечные параметры:
- перечислены в <pkg_OptionMain::Настроечные параметры>.

Перед установкой модуль деактивирует пакетные задания модуля Scheduler в
БД, а после успешной установки восстанавливает активацию.

Команда для восстановления выполнения заданий в БД на случай ошибок:

(code)

make install-after LOAD_USERID=???/???@??? LOAD_OPERATORID=???/???

(end)



group: 3.3.0

Предварительные требования:
- должны быть обновлены до версий не ниже указанных следующие модули ( если
  они установлены в БД):
  - Scheduler 4.3.5;
  - ProcessMonitor 1.1.1;
  - Mail 2.0.0;
  - Calendar 2.1.0;

- прикладные модули, использующие модуль Option, должны быть обновлены до
  версий, в которых прекращено использование устаревшего интерфейса модуля
  ( удаляемые при установке устаревшие объекты перечислены в
    описании <Версии::3.3.0 ( 2016-08-15)>)

Порядок установки:

- установка в основную схему

(code)

$ make install INSTALL_VERSION=3.3.0 LOAD_USERID=???/???@??? LOAD_OPERATORID=???/???

(end)



group: 3.1.0.1
(<Версии::3.1.0.1 ( 2016-04-21)>)

Предварительные требования:

- установка модуля AccessOperator версии не ранее 3.12.1;

Порядок установки:

- установка в основную схему;

(code)

make install INSTALL_VERSION=3.1.0.1 LOAD_USERID=???/???@??? LOAD_OPERATORID=???/???

(end code)



group: Первоначальная установка

Предварительные требования:
- установка модуля ModuleInfo;
- установка модуля Common;
- установка модуля Logging;
- установка модуля AccessOperator
  ( при этом в БД, в которой будут создаваться роли ( указываемой
    LOAD_USERID2), версия модуля должна быть не ниже 3.14.0);
- установка модуля DynamicSql;
- выдача пользователю, в схему которого будет устанавливаться модуль, прав на
  пакет dbms_crypto:

(code)

SQL> grant execute on sys.dbms_crypto to &userName;

(end)

  ( при отсутствии прав на пакет dbms_crypto установка модуля может быть
    выполнена, но при попытке шифрования/дешифрования значений параметров будет
    возникать ошибка)

Порядок установки:

- установка в основную схему

(code)

$ make install INSTALL_VERSION=Last LOAD_USERID=???/???@??? LOAD_OPERATORID=???/???

(end)

- создание ролей для модуля AccessOperator

(code)

$ make install INSTALL_VERSION=Last LOAD_USERID2=???/???@??? LOAD_OPERATORID=???/???

(end)



group: Выдача прав на использование модуля

Команда для выдачи прав:

(code)

$ make grant LOAD_USERID=???/??? LOAD_OPERATORID=???/??? TO_USERNAME=???

(end)



group: Удаление модуля из БД

Команда для удаления модуля из БД:

(code)

$ make uninstall INSTALL_VERSION=Last LOAD_USERID=???/???@??? LOAD_OPERATORID=???/???

(end)
